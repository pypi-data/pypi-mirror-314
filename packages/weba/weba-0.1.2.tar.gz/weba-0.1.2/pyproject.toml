[tool.poetry]
name = "weba"
version = "0.1.2"
description = ""
authors = ["CJ Lazell <cjlazell@gmail.com>"]
license = "MIT"
readme = "README.md"
packages = []


[tool.poetry.dependencies]
python = ">=3.10, <3.13"
beautifulsoup4 = ">=4"
pydantic = ">=2, <3"
pydantic-settings = ">=2, <3"
psutil = ">=5, <7"

[tool.poetry.group.test.dependencies]
pytest = "^7.4.0"
pytest-cov = "^4.1.0"
pytest-playwright = "^0.3.3"
pytest-xdist = "^3.3.1"
pytest-asyncio = "^0.21.1"
pytest-env = "^0.8.2"
pytest-snapshot = "^0.9.0"
httpx = "^0.27.0"
pytest-testmon = "^2.1.0"
pytest-watch = "^4.2.0"
pytest-picked = "^0.5.0"

[tool.poetry.group.lint.dependencies]
pyright = "^1.1.303"
ruff = "^0.1.6"
types-psutil = "^5.9.5.20240316"

[tool.poetry.group.dev.dependencies]
icecream = "^2.1.3"
types-beautifulsoup4 = "^4.12.0.7"
litestar = { extras = ["full"], version = "^2.4.1" }
weasyprint = "^60.2"
hashids = "^1.3.1"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.ruff]
select = [
  "E",   # pycodestyle errors
  "W",   # pycodestyle warnings
  "F",   # pyflakes
  "N",   # pep8-naming
  "I",   # isort
  "C",   # flake8-comprehensions
  "B",   # flake8-bugbear
  "S",   # flake8-bandit
  "PT",  # flake8-pytest-style
  "TC",  # flake8-type-checking
  "ARG", # flake8-unused-arguments
]
# In a real project, you should not ignore these:
# ignore = ["F403", "F405"] # this ignores `import *` errors

line-length = 120

[tool.ruff.flake8-type-checking]
strict = true

[tool.ruff.per-file-ignores]
"*_test.py" = ["S101"]
"*test_*.py" = ["S101"]

[tool.pyright]
typeCheckingMode = "strict"
include = ["weba", "playground", "tests"]
exclude = [
  ".git",
  "node_modules",
  "**/*.pyw",
  "**/*.pyc",
  "**/__pycache__",
  ".pytest_cache",
  "dist",
  "tmp",
  ".ruff_cache",
  ".venv",
  ".aider.tags.cache.v3",
]
extraPaths = [
  "__pypackages__/3.10/lib",
  ".venv/lib/3.10/site-packages",
  ".venv/lib/python3.10/site-packages",
  "__pypackages__/3.11/lib",
  ".venv/lib/3.11/site-packages",
  ".venv/lib/python3.11/site-packages",
  ".venv/lib/3.12/site-packages",
  ".venv/lib/python3.12/site-packages",
]

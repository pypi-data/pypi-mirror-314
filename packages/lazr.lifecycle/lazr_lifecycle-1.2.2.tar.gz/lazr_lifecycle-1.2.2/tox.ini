[tox]
envlist =
    py38,py39,py310,py311,py312,py313,lint,docs

[testenv]
commands =
    zope-testrunner --test-path src --tests-pattern ^tests {posargs}
deps =
    zope.testrunner

[testenv:lint]
commands =
    pre-commit run --all-files
deps =
    pre-commit

[testenv:docs]
basepython =
    python3.11
commands =
    sphinx-build -b html -d src/lazr/lifecycle/docs/_build/doctrees src/lazr/lifecycle/docs src/lazr/lifecycle/docs/_build/html
deps =
    .[docs]

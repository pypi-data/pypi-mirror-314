[tox]
envlist =
    py38,py39,py310,py311,py312,py313,lint,docs

[testenv]
commands =
    zope-testrunner --test-path src --tests-pattern ^tests {posargs}
deps =
    .[test]
    zope-testrunner

[testenv:docs]
basepython =
    python3.11
commands =
    sphinx-build -b html -d src/lazr/uri/docs/_build/doctrees src/lazr/uri/docs src/lazr/uri/docs/_build/html
deps =
    .[docs]

[testenv:lint]
basepython =
    python3.11
deps =
    pre-commit
commands =
    pre-commit run --all-files

[flake8]
ignore =
    # Incompatible with Black.
    E203,
    W503

[isort]
known_first_party = lazr.uri
line_length = 79
profile = black

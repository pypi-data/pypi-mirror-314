import{d as E,K as w,r as s,k as O,P as $,O as H,o as P,e as q,C as A,D as W,_ as X}from"./index-YmO2-Soz.js";const b=200,N=36,L=E({__name:"BuilderInstanceTracker",props:{instancePath:{},matchSize:{type:Boolean},verticalOffsetPixels:{},isOffBoundsAllowed:{type:Boolean},preventSettingsBarOverlap:{type:Boolean}},setup(y){const v=y,{instancePath:B,matchSize:l,verticalOffsetPixels:r,isOffBoundsAllowed:_,preventSettingsBarOverlap:S}=w(v),i=s(null),d=s(0),u=s(null),k=e=>{const n=document.querySelector(".ComponentRenderer"),{top:T,left:R}=e.getBoundingClientRect(),{clientHeight:C}=document.body,{clientWidth:I}=n,{left:p}=n.getBoundingClientRect(),c=document.querySelector(".BuilderSettings"),{left:m}=(c==null?void 0:c.getBoundingClientRect())||{left:1/0};let{clientHeight:h,clientWidth:a}=l!=null&&l.value?e:u.value,M=r!=null&&r.value?r.value:0,t=R,o=T+M;if(_.value||(t=Math.max(p,t),t=Math.min(p+I-a,t),o=Math.max(N,o),o=Math.min(C-h,o)),S.value){let g=0;t+a>m&&(g=Math.max(t-(m-a),0)),t-=g}i.value={top:`${o}px`,left:`${t}px`,width:`${a}px`,height:`${h}px`}},f=()=>{let e=document.querySelector(`.ComponentRenderer [data-writer-instance-path="${B.value}"]`);if(x(),!e)return;const n=getComputedStyle(e);n&&(n.display=="contents"&&(e=e.querySelector("[data-writer-id]")),e&&k(e))},x=()=>{d.value=setTimeout(f,b)};return O(async()=>{await $(),f()}),H(()=>{clearTimeout(d.value)}),(e,n)=>(P(),q("div",{ref_key:"rootEl",ref:u,class:"BuilderInstanceTracker",style:W(i.value)},[A(e.$slots,"default",{},void 0,!0)],4))}}),j=X(L,[["__scopeId","data-v-f5bff36a"]]);export{j as default};

diff --git a/sympy/geometry/util.py b/sympy/geometry/util.py
index d32adc3066..48dbc49791 100644
--- a/sympy/geometry/util.py
+++ b/sympy/geometry/util.py
@@ -12,7 +12,7 @@
 """
 from __future__ import division, print_function
 
-from sympy import Function, Symbol, solve
+from sympy import Function, Symbol, solve, Eq
 from sympy.core.compatibility import (
     is_sequence, range, string_types, ordered)
 from sympy.core.containers import OrderedSet
@@ -565,11 +565,23 @@ def idiff(eq, y, x, n=1):
     sympy.core.function.diff: explicitly differentiates wrt symbols
 
     """
+    # Convert Eq to standard form
+    if isinstance(eq, Eq):
+        eq = eq.lhs - eq.rhs
+
     if is_sequence(y):
         dep = set(y)
         y = y[0]
     elif isinstance(y, Symbol):
         dep = {y}
+    elif hasattr(y, 'func'):
+        # Handle function applications like f(x) and nested functions like f(g(x))
+        if isinstance(y.func, type(Function('f'))) or isinstance(y.func, Function):
+            dep = {y}
+            # For function applications, use the function's name
+            y = Symbol(y.func.__name__)  # Use the function's name as symbol
+        else:
+            raise ValueError("expecting x-dependent symbol(s) but got: %s" % y)
     else:
         raise ValueError("expecting x-dependent symbol(s) but got: %s" % y)

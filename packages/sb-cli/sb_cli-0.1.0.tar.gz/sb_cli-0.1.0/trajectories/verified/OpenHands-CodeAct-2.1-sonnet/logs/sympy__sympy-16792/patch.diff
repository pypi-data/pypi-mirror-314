diff --git a/sympy/utilities/codegen.py b/sympy/utilities/codegen.py
index f0befb2bd7..3c974bd95a 100644
--- a/sympy/utilities/codegen.py
+++ b/sympy/utilities/codegen.py
@@ -314,6 +314,9 @@ def __init__(self, name, datatype=None, dimensions=None, precision=None):
         elif not isinstance(datatype, DataType):
             raise TypeError("The (optional) `datatype' argument must be an "
                             "instance of the DataType class.")
+        # Automatically set dimensions for MatrixSymbol inputs if not provided
+        if dimensions is None and isinstance(name, MatrixSymbol):
+            dimensions = [(0, s-1) for s in name.shape]
         if dimensions and not isinstance(dimensions, (tuple, list)):
             raise TypeError(
                 "The dimension argument must be a sequence of tuples")

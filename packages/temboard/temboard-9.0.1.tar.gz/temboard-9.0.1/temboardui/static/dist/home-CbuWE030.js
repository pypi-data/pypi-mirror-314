import{c as we,o as B,e as z,h as Y,f as k,g as $,p as X,q as _e,z as L,s as St,n as me,k as Re,$ as Ht,a0 as Wt,v as qe,j as ut,P as Bt,U as zt,F as Ee,A as ct,N as Vt}from"./vue-DqMao7g8.js";import{u as Xt,b as Gt,c as Yt,a as Zt}from"./vue-router-CCNp7My1.js";import{u as Ut}from"./index-OSNBTCrZ.js";import{T as ft,P as $t}from"./bootstrap.esm-BOBBXxos.js";import{$ as Tt}from"./jquery-BALIvAru.js";import{_ as oe}from"./lodash-uc_7-CSk.js";import{m as ce}from"./moment-CMyQs7Vz.js";import{_ as Kt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./highlight.js-CWp04Ajj.js";/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var qt=function(e,t,a,i,r,n){var s=function(l){return l==="logscale"?!1:i(l)};return he(e,t,a,s,r,n)},he=function(e,t,a,i,r,n){var s=i("pixelsPerLabel"),l=[],o,h,u,d;if(n)for(o=0;o<n.length;o++)l.push({v:n[o]});else{if(i("logscale")){d=Math.floor(a/s);var c=He(e,Ne,1),f=He(t,Ne,-1);c==-1&&(c=0),f==-1&&(f=Ne.length-1);var g=null;if(f-c>=d/4){for(var p=f;p>=c;p--){var y=Ne[p],_=Math.log(y/e)/Math.log(t/e)*a,b={v:y};g===null?g={tickValue:y,pixel_coord:_}:Math.abs(_-g.pixel_coord)>=s?g={tickValue:y,pixel_coord:_}:b.label="",l.push(b)}l.reverse()}}if(l.length===0){var w=i("labelsKMG2"),x,D;w?(x=[1,2,4,8,16,32,64,128,256],D=16):(x=[1,2,5,10,20,50,100],D=10);var I=Math.ceil(a/s),A=Math.abs(t-e)/I,T=Math.floor(Math.log(A)/Math.log(D)),S=Math.pow(D,T),m,C,R,Z;for(h=0;h<x.length&&(m=S*x[h],C=Math.floor(e/m)*m,R=Math.ceil(t/m)*m,d=Math.abs(R-C)/m,Z=a/d,!(Z>s));h++);for(C>R&&(m*=-1),o=0;o<=d;o++)u=C+o*m,l.push({v:u})}}var se=i("axisLabelFormatter");for(o=0;o<l.length;o++)l[o].label===void 0&&(l[o].label=se.call(r,l[o].v,0,i,r));return l},xe=function(e,t,a,i,r,n){var s=Qt(e,t,a,i);return s>=0?Ct(e,t,s,i,r):[]},E={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29},N={DATEFIELD_Y:0,DATEFIELD_M:1,DATEFIELD_D:2,DATEFIELD_HH:3,DATEFIELD_MM:4,DATEFIELD_SS:5,DATEFIELD_MS:6,NUM_DATEFIELDS:7},P=[];P[E.MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:1,spacing:1};P[E.TWO_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:2,spacing:2};P[E.FIVE_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:5,spacing:5};P[E.TEN_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:10,spacing:10};P[E.FIFTY_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:50,spacing:50};P[E.HUNDRED_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:100,spacing:100};P[E.FIVE_HUNDRED_MILLISECONDLY]={datefield:N.DATEFIELD_MS,step:500,spacing:500};P[E.SECONDLY]={datefield:N.DATEFIELD_SS,step:1,spacing:1e3*1};P[E.TWO_SECONDLY]={datefield:N.DATEFIELD_SS,step:2,spacing:1e3*2};P[E.FIVE_SECONDLY]={datefield:N.DATEFIELD_SS,step:5,spacing:1e3*5};P[E.TEN_SECONDLY]={datefield:N.DATEFIELD_SS,step:10,spacing:1e3*10};P[E.THIRTY_SECONDLY]={datefield:N.DATEFIELD_SS,step:30,spacing:1e3*30};P[E.MINUTELY]={datefield:N.DATEFIELD_MM,step:1,spacing:1e3*60};P[E.TWO_MINUTELY]={datefield:N.DATEFIELD_MM,step:2,spacing:1e3*60*2};P[E.FIVE_MINUTELY]={datefield:N.DATEFIELD_MM,step:5,spacing:1e3*60*5};P[E.TEN_MINUTELY]={datefield:N.DATEFIELD_MM,step:10,spacing:1e3*60*10};P[E.THIRTY_MINUTELY]={datefield:N.DATEFIELD_MM,step:30,spacing:1e3*60*30};P[E.HOURLY]={datefield:N.DATEFIELD_HH,step:1,spacing:1e3*3600};P[E.TWO_HOURLY]={datefield:N.DATEFIELD_HH,step:2,spacing:1e3*3600*2};P[E.SIX_HOURLY]={datefield:N.DATEFIELD_HH,step:6,spacing:1e3*3600*6};P[E.DAILY]={datefield:N.DATEFIELD_D,step:1,spacing:1e3*86400};P[E.TWO_DAILY]={datefield:N.DATEFIELD_D,step:2,spacing:1e3*86400*2};P[E.WEEKLY]={datefield:N.DATEFIELD_D,step:7,spacing:1e3*604800};P[E.MONTHLY]={datefield:N.DATEFIELD_M,step:1,spacing:1e3*7200*365.2425};P[E.QUARTERLY]={datefield:N.DATEFIELD_M,step:3,spacing:1e3*21600*365.2425};P[E.BIANNUAL]={datefield:N.DATEFIELD_M,step:6,spacing:1e3*43200*365.2425};P[E.ANNUAL]={datefield:N.DATEFIELD_Y,step:1,spacing:1e3*86400*365.2425};P[E.DECADAL]={datefield:N.DATEFIELD_Y,step:10,spacing:1e3*864e3*365.2425};P[E.CENTENNIAL]={datefield:N.DATEFIELD_Y,step:100,spacing:1e3*864e4*365.2425};var Ne=function(){for(var e=[],t=-39;t<=39;t++)for(var a=Math.pow(10,t),i=1;i<=9;i++){var r=a*i;e.push(r)}return e}(),Qt=function(e,t,a,i){for(var r=i("pixelsPerLabel"),n=0;n<E.NUM_GRANULARITIES;n++){var s=Jt(e,t,n);if(a/s>=r)return n}return-1},Jt=function(e,t,a){var i=P[a].spacing;return Math.round(1*(t-e)/i)},Ct=function(e,t,a,i,r){var n=i("axisLabelFormatter"),s=i("labelsUTC"),l=s?nt:rt,o=P[a].datefield,h=P[a].step,u=P[a].spacing,d=new Date(e),c=[];c[N.DATEFIELD_Y]=l.getFullYear(d),c[N.DATEFIELD_M]=l.getMonth(d),c[N.DATEFIELD_D]=l.getDate(d),c[N.DATEFIELD_HH]=l.getHours(d),c[N.DATEFIELD_MM]=l.getMinutes(d),c[N.DATEFIELD_SS]=l.getSeconds(d),c[N.DATEFIELD_MS]=l.getMilliseconds(d);var f=c[o]%h;a==E.WEEKLY&&(f=l.getDay(d)),c[o]-=f;for(var g=o+1;g<N.NUM_DATEFIELDS;g++)c[g]=g===N.DATEFIELD_D?1:0;var p=[],y=l.makeDate.apply(null,c),_=y.getTime();if(a<=E.HOURLY)for(_<e&&(_+=u,y=new Date(_));_<=t;)p.push({v:_,label:n.call(r,y,a,i,r)}),_+=u,y=new Date(_);else for(_<e&&(c[o]+=h,y=l.makeDate.apply(null,c),_=y.getTime());_<=t;)(a>=E.DAILY||l.getHours(y)%h===0)&&p.push({v:_,label:n.call(r,y,a,i,r)}),c[o]+=h,y=l.makeDate.apply(null,c),_=y.getTime();return p};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var fe=10,jt=Math.log(fe),H=function(e){return Math.log(e)/jt},Pe=function(e,t,a){var i=H(e),r=H(t),n=i+a*(r-i),s=Math.pow(fe,n);return s},ea=[7,3],ta=[7,2,2,2],Me=1,Fe=2,Ie=function(e){return e.getContext("2d")},ye=function(t,a,i){t.addEventListener(a,i,!1)};function J(e,t,a){e.removeEventListener(t,a,!1)}function ae(e){return e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function aa(e,t,a){var i,r,n;if(t===0)i=a,r=a,n=a;else{var s=Math.floor(e*6),l=e*6-s,o=a*(1-t),h=a*(1-t*l),u=a*(1-t*(1-l));switch(s){case 1:i=h,r=a,n=o;break;case 2:i=o,r=a,n=u;break;case 3:i=o,r=h,n=a;break;case 4:i=u,r=o,n=a;break;case 5:i=a,r=o,n=h;break;case 6:case 0:i=a,r=u,n=o;break}}return i=Math.floor(255*i+.5),r=Math.floor(255*r+.5),n=Math.floor(255*n+.5),"rgb("+i+","+r+","+n+")"}function Ae(e){var t=e.getBoundingClientRect(),a=window,i=document.documentElement;return{x:t.left+(a.pageXOffset||i.scrollLeft),y:t.top+(a.pageYOffset||i.scrollTop)}}function ze(e){return!e.pageX||e.pageX<0?0:e.pageX}function Ve(e){return!e.pageY||e.pageY<0?0:e.pageY}function Xe(e,t){return ze(e)-t.px}function Ge(e,t){return Ve(e)-t.py}function ia(e){return!!e&&!isNaN(e)}function be(e,t){return!(!e||e.yval===null||e.x===null||e.x===void 0||e.y===null||e.y===void 0||isNaN(e.x)||!t&&isNaN(e.y))}function Dt(e,t){var a=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(a-1):e.toPrecision(a)}function le(e){return e<10?"0"+e:""+e}var rt={getFullYear:e=>e.getFullYear(),getMonth:e=>e.getMonth(),getDate:e=>e.getDate(),getHours:e=>e.getHours(),getMinutes:e=>e.getMinutes(),getSeconds:e=>e.getSeconds(),getMilliseconds:e=>e.getMilliseconds(),getDay:e=>e.getDay(),makeDate:function(e,t,a,i,r,n,s){return new Date(e,t,a,i,r,n,s)}},nt={getFullYear:e=>e.getUTCFullYear(),getMonth:e=>e.getUTCMonth(),getDate:e=>e.getUTCDate(),getHours:e=>e.getUTCHours(),getMinutes:e=>e.getUTCMinutes(),getSeconds:e=>e.getUTCSeconds(),getMilliseconds:e=>e.getUTCMilliseconds(),getDay:e=>e.getUTCDay(),makeDate:function(e,t,a,i,r,n,s){return new Date(Date.UTC(e,t,a,i,r,n,s))}};function je(e,t,a,i){var r=le(e)+":"+le(t);if(a&&(r+=":"+le(a),i)){var n=""+i;r+="."+("000"+n).substring(n.length)}return r}function Lt(e,t){var a=t?nt:rt,i=new Date(e),r=a.getFullYear(i),n=a.getMonth(i),s=a.getDate(i),l=a.getHours(i),o=a.getMinutes(i),h=a.getSeconds(i),u=a.getMilliseconds(i),d=""+r,c=le(n+1),f=le(s),g=l*3600+o*60+h+.001*u,p=d+"/"+c+"/"+f;return g&&(p+=" "+je(l,o,h,u)),p}function Qe(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a}function He(e,t,a,i,r){if((i==null||r===null||r===void 0)&&(i=0,r=t.length-1),i>r)return-1;a==null&&(a=0);var n=function(h){return h>=0&&h<t.length},s=parseInt((i+r)/2,10),l=t[s],o;return l==e?s:l>e?a>0&&(o=s-1,n(o)&&t[o]<e)?s:He(e,t,a,i,s-1):l<e?a<0&&(o=s+1,n(o)&&t[o]>e)?s:He(e,t,a,s+1,r):-1}function Ot(e){var t,a;if((e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1)&&(a=Je(e),a&&!isNaN(a)))return a;if(e.search("-")!=-1){for(t=e.replace("-","/","g");t.search("-")!=-1;)t=t.replace("-","/");a=Je(t)}else a=Je(e);return(!a||isNaN(a))&&console.error("Couldn't parse "+e+" as a date"),a}function Je(e){return new Date(e).getTime()}function j(e,t){if(typeof t<"u"&&t!==null)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}var ra=typeof Node<"u"&&Node!==null&&typeof Node=="object"?function(t){return t instanceof Node}:function(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"};function st(e,t){if(typeof t<"u"&&t!==null){for(var a in t)if(t.hasOwnProperty(a)){const i=t[a];i===null?e[a]=null:Se(i)?e[a]=i.slice():ra(i)?e[a]=i:typeof i=="object"?((typeof e[a]!="object"||e[a]===null)&&(e[a]={}),st(e[a],i)):e[a]=i}}return e}function na(e){if(e===null)return"null";const t=typeof e;return(t==="object"||t==="function"&&typeof e.item=="function")&&typeof e.length=="number"&&e.nodeType!==3&&e.nodeType!==4?"array":t}function Se(e){const t=typeof e;return e!==null&&(t==="object"||t==="function"&&typeof e.item=="function")&&typeof e.length=="number"&&e.nodeType!==3&&e.nodeType!==4}function Et(e){return e!==null&&typeof e=="object"&&typeof e.getTime=="function"}function Nt(e){for(var t=[],a=0;a<e.length;a++)Se(e[a])?t.push(Nt(e[a])):t.push(e[a]);return t}function We(){return document.createElement("canvas")}function et(e){try{var t=window.devicePixelRatio,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t!==void 0?t/a:1}catch{return 1}}function kt(e,t,a,i){t=t||0,a=a||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=i,this.end_=Math.min(e.length,t+a),this.nextIdx_=t-1,this.next()}kt.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,a=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],a=!0;break}t++}return this.nextIdx_=t,a||(this.hasNext=!1,this.peek=null),e};function ot(e,t,a,i){return new kt(e,t,a,i)}var sa=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function Rt(e,t,a,i){var r=0,n,s=new Date().getTime();if(e(r),t==1){i();return}var l=t-1;(function o(){r>=t||sa.call(window,function(){var h=new Date().getTime(),u=h-s;n=r,r=Math.floor(u/a);var d=r-n,c=r+d>l;c||r>=l?(e(l),i()):(d!==0&&e(r),o())})})()}var pt={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};function oa(e,t){var a={};if(e)for(var i=1;i<e.length;i++)a[e[i]]=!0;var r=function(o){for(var h in o)if(o.hasOwnProperty(h)&&!pt[h])return!0;return!1};for(var n in t)if(t.hasOwnProperty(n)){if(n=="highlightSeriesOpts"||a[n]&&!t.series){if(r(t[n]))return!0}else if(n=="series"||n=="axes"){var s=t[n];for(var l in s)if(s.hasOwnProperty(l)&&r(s[l]))return!0}else if(!pt[n])return!0}return!1}var lt={DEFAULT:function(e,t,a,i,r,n,s){a.beginPath(),a.fillStyle=n,a.arc(i,r,s,0,2*Math.PI,!1),a.fill()}};function Pt(e){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(a==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:a;if(a===`
`)return t+1<e.length&&e.charAt(t+1)==="\r"?`
\r`:a}return null}function gt(e,t){if(t===null||e===null)return!1;for(var a=e;a&&a!==t;)a=a.parentNode;return a===t}function vt(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}var la=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/,ha=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;function yt(e){var t,a,i,r,n=null;if(t=la.exec(e))a=parseInt(t[1],16),i=parseInt(t[2],16),r=parseInt(t[3],16),t[4]&&(n=parseInt(t[4],16));else if(t=ha.exec(e))a=parseInt(t[1],10),i=parseInt(t[2],10),r=parseInt(t[3],10),t[4]&&(n=parseFloat(t[4]));else return null;return n!==null?{r:a,g:i,b:r,a:n}:{r:a,g:i,b:r}}function Ye(e){var t=yt(e);if(t)return t;var a=document.createElement("div");a.style.backgroundColor=e,a.style.visibility="hidden",document.body.appendChild(a);var i=window.getComputedStyle(a,null).backgroundColor;return document.body.removeChild(a),yt(i)}function da(e){try{var t=e||document.createElement("canvas");t.getContext("2d")}catch{return!1}return!0}function ie(e,t,a){var i=parseFloat(e);if(!isNaN(i))return i;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var r="Unable to parse '"+e+"' as a number";return a!==void 0&&t!==void 0&&(r+=" on line "+(1+(t||0))+" ('"+a+"') of CSV."),console.error(r),null}var ua=["k","M","G","T","P","E","Z","Y"],Mt=["m","µ","n","p","f","a","z","y"],ca=["Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"],fa=["p-10","p-20","p-30","p-40","p-50","p-60","p-70","p-80"],pa=["K","M","G","T","P","E","Z","Y"],ga=Mt;function tt(e,t){var a=t("sigFigs");if(a!==null)return Dt(e,a);if(e===0)return"0";var i=t("digitsAfterDecimal"),r=t("maxNumberWidth"),n=t("labelsKMB"),s=t("labelsKMG2"),l,o=Math.abs(e);if(n||s){var h,u=[],d=[];n&&(h=1e3,u=ua,d=Mt),s&&(h=1024,u=ca,d=fa,n&&(u=pa,d=ga));var c,f;if(o>=h){for(f=u.length;f>0;)if(c=vt(h,f),--f,o>=c)return o/c>=Math.pow(10,r)?l=e.toExponential(i):l=Qe(e/c,i)+u[f],l}else if(o<1){for(f=0;f<d.length&&(++f,c=vt(h,f),!(o*c>=1)););return o*c<Math.pow(10,-i)?l=e.toExponential(i):l=Qe(e*c,i)+d[f-1],l}}return o>=Math.pow(10,r)||o<Math.pow(10,-i)?l=e.toExponential(i):l=""+Qe(e,i),l}function at(e,t,a){return tt.call(this,e,a)}var _t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Te(e,t,a){var i=a("labelsUTC"),r=i?nt:rt,n=r.getFullYear(e),s=r.getMonth(e),l=r.getDate(e),o=r.getHours(e),h=r.getMinutes(e),u=r.getSeconds(e),d=r.getMilliseconds(e);if(t>=E.DECADAL)return""+n;if(t>=E.MONTHLY)return _t[s]+"&#160;"+n;var c=o*3600+h*60+u+.001*d;if(c===0||t>=E.DAILY)return le(l)+"&#160;"+_t[s];if(t<E.SECONDLY){var f=""+d;return le(u)+"."+("000"+f).substring(f.length)}else return t>E.MINUTELY?je(o,h,u,0):je(o,h,u,d)}function Ze(e,t){return Lt(e,t("labelsUTC"))}var ke=[],mt=!1;function ve(e){return typeof e=="function"&&e(),!0}function va(e){if(typeof document<"u"){const t=function(){if(!mt){mt=!0,e.onDOMready=ve,document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1);for(let i=0;i<ke.length;++i)ke[i]();ke=null}};e.onDOMready=function(i){if(document.readyState==="complete")return e.onDOMready=ve,ve(i);const r=function(s){return typeof s=="function"&&ke.push(s),!1};return e.onDOMready=r,document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1),document.readyState==="complete"?(t(),e.onDOMready=ve,ve(i)):r(i)}}}/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var V=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};V.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)};V.prototype.getPlotArea=function(){return this.area_};V.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(a){var i={x:e.x,y:e.y,w:a,h:e.h};return e.x+=a,e.w-=a,i},reserveSpaceRight:function(a){var i={x:e.x+e.w-a,y:e.y,w:a,h:e.h};return e.w-=a,i},reserveSpaceTop:function(a){var i={x:e.x,y:e.y,w:e.w,h:a};return e.y+=a,e.h-=a,i},reserveSpaceBottom:function(a){var i={x:e.x,y:e.y+e.h-a,w:e.w,h:a};return e.h-=a,i},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e};V.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(r){return r},a=0;a<e.length;a++){var i={};if(!e[a].xval&&e[a].x===void 0){console.error("Annotations must have an 'x' property");return}if(e[a].icon&&!(e[a].hasOwnProperty("width")&&e[a].hasOwnProperty("height"))){console.error("Must set width and height when setting annotation.icon property");return}j(i,e[a]),i.xval||(i.xval=t(i.x)),this.annotations.push(i)}};V.prototype.setXTicks=function(e){this.xTicks_=e};V.prototype.setYAxes=function(e){this.yAxes_=e};V.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()};V.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=t!==0?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=H(this._xAxis.maxval)-H(this._xAxis.minval),this._xAxis.xlogscale=this._xAxis.xlogrange!==0?1/this._xAxis.xlogrange:1);for(var a=0;a<this.yAxes_.length;a++){var i=this.yAxes_[a];i.minyval=i.computedValueRange[0],i.maxyval=i.computedValueRange[1],i.yrange=i.maxyval-i.minyval,i.yscale=i.yrange!==0?1/i.yrange:1,(this.dygraph_.getOption("logscale")||i.logscale)&&(i.ylogrange=H(i.maxyval)-H(i.minyval),i.ylogscale=i.ylogrange!==0?1/i.ylogrange:1,(!isFinite(i.ylogrange)||isNaN(i.ylogrange))&&console.error("axis "+a+" of graph at "+i.g+" can't be displayed in log scale for range ["+i.minyval+" - "+i.maxyval+"]"))}};V.calcXNormal_=function(e,t,a){return a?(H(e)-H(t.minval))*t.xlogscale:(e-t.minval)*t.scale};V.calcYNormal_=function(e,t,a){if(a){var i=1-(H(t)-H(e.minyval))*e.ylogscale;return isFinite(i)?i:NaN}else return 1-(t-e.minyval)*e.yscale};V.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),a=0;a<this.points.length;a++){for(var i=this.points[a],r=this.setNames[a],n=this.dygraph_.getOption("connectSeparatedPoints",r),s=this.dygraph_.axisPropertiesForSeries(r),l=this.dygraph_.attributes_.getForSeries("logscale",r),o=0;o<i.length;o++){var h=i[o];h.x=V.calcXNormal_(h.xval,this._xAxis,t);var u=h.yval;e&&(h.y_stacked=V.calcYNormal_(s,h.yval_stacked,l),u!==null&&!isNaN(u)&&(u=h.yval_stacked)),u===null&&(u=NaN,n||(h.yval=NaN)),h.y=V.calcYNormal_(s,u,l)}this.dygraph_.dataHandler_.onLineEvaluated(i,s,l)}};V.prototype._evaluateLineTicks=function(){var e,t,a,i,r,n;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)t=this.xTicks_[e],a=t.label,n=!("label_v"in t),r=n?t.v:t.label_v,i=this.dygraph_.toPercentXCoord(r),i>=0&&i<1&&this.xticks.push({pos:i,label:a,has_tick:n});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var s=this.yAxes_[e],l=0;l<s.ticks.length;l++)t=s.ticks[l],a=t.label,n=!("label_v"in t),r=n?t.v:t.label_v,i=this.dygraph_.toPercentYCoord(r,e),i>0&&i<=1&&this.yticks.push({axis:e,pos:i,label:a,has_tick:n})};V.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var a=this.annotations[e];t[a.xval+","+a.series]=a}if(this.annotated_points=[],!(!this.annotations||!this.annotations.length))for(var i=0;i<this.points.length;i++){var r=this.points[i];for(e=0;e<r.length;e++){var n=r[e],s=n.xval+","+n.name;s in t&&(n.annotation=t[s],this.annotated_points.push(n),delete t[s])}}};V.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var M=function(e,t,a,i){if(this.dygraph_=e,this.layout=i,this.element=t,this.elementContext=a,this.height=e.height_,this.width=e.width_,!da(this.element))throw"Canvas is not supported.";this.area=i.getPlotArea();var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),r=this.dygraph_.hidden_ctx_,r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()};M.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)};M.prototype.render=function(){this._updatePoints(),this._renderLineChart()};M._getIteratorPredicate=function(e){return e?M._predicateThatSkipsEmptyPoints:null};M._predicateThatSkipsEmptyPoints=function(e,t){return e[t].yval!==null};M._drawStyledLine=function(e,t,a,i,r,n,s){var l=e.dygraph,o=l.getBooleanOption("stepPlot",e.setName);Se(i)||(i=null);var h=l.getBooleanOption("drawGapEdgePoints",e.setName),u=e.points,d=e.setName,c=ot(u,0,u.length,M._getIteratorPredicate(l.getBooleanOption("connectSeparatedPoints",d))),f=i&&i.length>=2,g=e.drawingContext;g.save(),f&&g.setLineDash&&g.setLineDash(i);var p=M._drawSeries(e,c,a,s,r,h,o,t);M._drawPointsOnLine(e,p,n,t,s),f&&g.setLineDash&&g.setLineDash([]),g.restore()};M._drawSeries=function(e,t,a,i,r,n,s,l){var o=null,h=null,u=null,d,c,f=[],g=!0,p=e.drawingContext;p.beginPath(),p.strokeStyle=l,p.lineWidth=a;for(var y=t.array_,_=t.end_,b=t.predicate_,w=t.start_;w<_;w++){if(c=y[w],b){for(;w<_&&!b(y,w);)w++;if(w==_)break;c=y[w]}if(c.canvasy===null||c.canvasy!=c.canvasy)s&&o!==null&&(p.moveTo(o,h),p.lineTo(c.canvasx,h)),o=h=null;else{if(d=!1,n||o===null){t.nextIdx_=w,t.next(),u=t.hasNext?t.peek.canvasy:null;var x=u===null||u!=u;d=o===null&&x,n&&(!g&&o===null||t.hasNext&&x)&&(d=!0)}o!==null?a&&(s&&(p.moveTo(o,h),p.lineTo(c.canvasx,h)),p.lineTo(c.canvasx,c.canvasy)):p.moveTo(c.canvasx,c.canvasy),(r||d)&&f.push([c.canvasx,c.canvasy,c.idx]),o=c.canvasx,h=c.canvasy}g=!1}return p.stroke(),f};M._drawPointsOnLine=function(e,t,a,i,r){for(var n=e.drawingContext,s=0;s<t.length;s++){var l=t[s];n.save(),a.call(e.dygraph,e.dygraph,e.setName,n,l[0],l[1],i,r,l[2]),n.restore()}};M.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var a=e[t],i=a.length;i--;){var r=a[i];r.canvasx=this.area.w*r.x+this.area.x,r.canvasy=this.area.h*r.y+this.area.y}};M.prototype._renderLineChart=function(e,t){var a=t||this.elementContext,i,r=this.layout.points,n=this.layout.setNames,s;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),o=l;Se(o)||(o=[o]);var h={};for(i=0;i<n.length;i++){s=n[i];var u=this.dygraph_.getOption("plotter",s);u!=l&&(h[s]=u)}for(i=0;i<o.length;i++)for(var d=o[i],c=i==o.length-1,f=0;f<r.length;f++)if(s=n[f],!(e&&s!=e)){var g=r[f],p=d;if(s in h)if(c)p=h[s];else continue;var y=this.colors[s],_=this.dygraph_.getOption("strokeWidth",s);a.save(),a.strokeStyle=y,a.lineWidth=_,p({points:g,setName:s,drawingContext:a,color:y,strokeWidth:_,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(s),plotArea:this.area,seriesIndex:f,seriesCount:r.length,singleSeriesName:e,allSeriesPoints:r}),a.restore()}};M._Plotters={linePlotter:function(e){M._linePlotter(e)},fillPlotter:function(e){M._fillPlotter(e)},errorPlotter:function(e){M._errorPlotter(e)}};M._linePlotter=function(e){var t=e.dygraph,a=e.setName,i=e.strokeWidth,r=t.getNumericOption("strokeBorderWidth",a),n=t.getOption("drawPointCallback",a)||lt.DEFAULT,s=t.getOption("strokePattern",a),l=t.getBooleanOption("drawPoints",a),o=t.getNumericOption("pointSize",a);r&&i&&M._drawStyledLine(e,t.getOption("strokeBorderColor",a),i+2*r,s,l,n,o),M._drawStyledLine(e,e.color,i,s,l,n,o)};M._errorPlotter=function(e){var t=e.dygraph,a=e.setName,i=t.getBooleanOption("errorBars")||t.getBooleanOption("customBars");if(i){var r=t.getBooleanOption("fillGraph",a);r&&console.warn("Can't use fillGraph option with customBars or errorBars option");var n=e.drawingContext,s=e.color,l=t.getNumericOption("fillAlpha",a),o=t.getBooleanOption("stepPlot",a),h=e.points,u=ot(h,0,h.length,M._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",a))),d,c=NaN,f=NaN,g=[-1,-1],p=Ye(s),y="rgba("+p.r+","+p.g+","+p.b+","+l+")";n.fillStyle=y,n.beginPath();for(var _=function(w){return w==null||isNaN(w)};u.hasNext;){var b=u.next();if(!o&&_(b.y)||o&&!isNaN(f)&&_(f)){c=NaN;continue}d=[b.y_bottom,b.y_top],o&&(f=b.y),isNaN(d[0])&&(d[0]=b.y),isNaN(d[1])&&(d[1]=b.y),d[0]=e.plotArea.h*d[0]+e.plotArea.y,d[1]=e.plotArea.h*d[1]+e.plotArea.y,isNaN(c)||(o?(n.moveTo(c,g[0]),n.lineTo(b.canvasx,g[0]),n.lineTo(b.canvasx,g[1])):(n.moveTo(c,g[0]),n.lineTo(b.canvasx,d[0]),n.lineTo(b.canvasx,d[1])),n.lineTo(c,g[1]),n.closePath()),g=d,c=b.canvasx}n.fill()}};M._fastCanvasProxy=function(e){var t=[],a=null,i=null,r=1,n=2,s=0,l=function(u){if(!(t.length<=1)){for(var d=t.length-1;d>0;d--){var c=t[d];if(c[0]==n){var f=t[d-1];f[1]==c[1]&&f[2]==c[2]&&t.splice(d,1)}}for(var d=0;d<t.length-1;){var c=t[d];c[0]==n&&t[d+1][0]==n?t.splice(d,1):d++}if(t.length>2&&!u){var g=0;t[0][0]==n&&g++;for(var p=null,y=null,d=g;d<t.length;d++){var c=t[d];if(c[0]==r)if(p===null&&y===null)p=d,y=d;else{var _=c[2];_<t[p][2]?p=d:_>t[y][2]&&(y=d)}}var b=t[p],w=t[y];t.splice(g,t.length-g),p<y?(t.push(b),t.push(w)):(p>y&&t.push(w),t.push(b))}}},o=function(u){l(u);for(var d=0,c=t.length;d<c;d++){var f=t[d];f[0]==r?e.lineTo(f[1],f[2]):f[0]==n&&e.moveTo(f[1],f[2])}t.length&&(i=t[t.length-1][1]),s+=t.length,t=[]},h=function(u,d,c){var f=Math.round(d);if(a===null||f!=a){var g=a-i>1,p=f-a>1,y=g||p;o(y),a=f}t.push([u,d,c])};return{moveTo:function(u,d){h(n,u,d)},lineTo:function(u,d){h(r,u,d)},stroke:function(){o(!0),e.stroke()},fill:function(){o(!0),e.fill()},beginPath:function(){o(!0),e.beginPath()},closePath:function(){o(!0),e.closePath()},_count:function(){return s}}};M._fillPlotter=function(e){if(!e.singleSeriesName&&e.seriesIndex===0){for(var t=e.dygraph,a=t.getLabels().slice(1),i=a.length;i>=0;i--)t.visibility()[i]||a.splice(i,1);var r=function(){for(var Q=0;Q<a.length;Q++)if(t.getBooleanOption("fillGraph",a[Q]))return!0;return!1}();if(r)for(var n=e.plotArea,s=e.allSeriesPoints,l=s.length,o=t.getBooleanOption("stackedGraph"),h=t.getColors(),u={},d,c,f=function(Q,Ft,It,ht){if(Q.lineTo(Ft,It),o)for(var Ke=ht.length-1;Ke>=0;Ke--){var dt=ht[Ke];Q.lineTo(dt[0],dt[1])}},g=l-1;g>=0;g--){var p=e.drawingContext,y=a[g];if(t.getBooleanOption("fillGraph",y)){var _=t.getNumericOption("fillAlpha",y),b=t.getBooleanOption("stepPlot",y),w=h[g],x=t.axisPropertiesForSeries(y),D=1+x.minyval*x.yscale;D<0?D=0:D>1&&(D=1),D=n.h*D+n.y;var I=s[g],A=ot(I,0,I.length,M._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",y))),T=NaN,S=[-1,-1],m,C=Ye(w),R="rgba("+C.r+","+C.g+","+C.b+","+_+")";p.fillStyle=R,p.beginPath();var Z,se=!0;(I.length>2*t.width_||v.FORCE_FAST_PROXY)&&(p=M._fastCanvasProxy(p));for(var q=[],F;A.hasNext;){if(F=A.next(),!ia(F.y)&&!b){f(p,T,S[1],q),q=[],T=NaN,F.y_stacked!==null&&!isNaN(F.y_stacked)&&(u[F.canvasx]=n.h*F.y_stacked+n.y);continue}if(o){if(!se&&Z==F.xval)continue;se=!1,Z=F.xval,d=u[F.canvasx];var ue;d===void 0?ue=D:c?ue=d[0]:ue=d,m=[F.canvasy,ue],b?S[0]===-1?u[F.canvasx]=[F.canvasy,D]:u[F.canvasx]=[F.canvasy,S[0]]:u[F.canvasx]=F.canvasy}else isNaN(F.canvasy)&&b?m=[n.y+n.h,D]:m=[F.canvasy,D];isNaN(T)?(p.moveTo(F.canvasx,m[1]),p.lineTo(F.canvasx,m[0])):(b&&p.lineTo(F.canvasx,S[0]),p.lineTo(F.canvasx,m[0]),o&&(q.push([T,S[1]]),c&&d?q.push([F.canvasx,d[1]]):q.push([F.canvasx,m[1]]))),S=m,T=F.canvasx}c=b,m&&F&&(f(p,F.canvasx,m[1],q),q=[]),p.fill()}}}};/**
 * @license
 * Copyright 2011 Robert Konigsberg (konigsberg@google.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var ya=100,O={};O.maybeTreatMouseOpAsClick=function(e,t,a){a.dragEndX=Xe(e,a),a.dragEndY=Ge(e,a);var i=Math.abs(a.dragEndX-a.dragStartX),r=Math.abs(a.dragEndY-a.dragStartY);i<2&&r<2&&t.lastx_!==void 0&&t.lastx_!==null&&O.treatMouseOpAsClick(t,e,a),a.regionWidth=i,a.regionHeight=r};O.startPan=function(e,t,a){var i,r;a.isPanning=!0;var n=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(a.initialLeftmostDate=H(n[0]),a.dateRange=H(n[1])-H(n[0])):(a.initialLeftmostDate=n[0],a.dateRange=n[1]-n[0]),a.xUnitsPerPixel=a.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var s=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),o=t.toDomXCoord(l[0])-s,h=t.toDomXCoord(l[1])+s,u=t.toDataXCoord(o),d=t.toDataXCoord(h);a.boundedDates=[u,d];var c=[],f=t.height_*t.getNumericOption("panEdgeFraction");for(i=0;i<t.axes_.length;i++){r=t.axes_[i];var g=r.extremeRange,p=t.toDomYCoord(g[0],i)+f,y=t.toDomYCoord(g[1],i)-f,_=t.toDataYCoord(p,i),b=t.toDataYCoord(y,i);c[i]=[_,b]}a.boundedValues=c}else a.boundedDates=null,a.boundedValues=null;for(a.is2DPan=!1,a.axes=[],i=0;i<t.axes_.length;i++){r=t.axes_[i];var w={},x=t.yAxisRange(i),D=t.attributes_.getForAxis("logscale",i);D?(w.initialTopValue=H(x[1]),w.dragValueRange=H(x[1])-H(x[0])):(w.initialTopValue=x[1],w.dragValueRange=x[1]-x[0]),w.unitsPerPixel=w.dragValueRange/(t.plotter_.area.h-1),a.axes.push(w),r.valueRange&&(a.is2DPan=!0)}};O.movePan=function(e,t,a){a.dragEndX=Xe(e,a),a.dragEndY=Ge(e,a);var i=a.initialLeftmostDate-(a.dragEndX-a.dragStartX)*a.xUnitsPerPixel;a.boundedDates&&(i=Math.max(i,a.boundedDates[0]));var r=i+a.dateRange;if(a.boundedDates&&r>a.boundedDates[1]&&(i=i-(r-a.boundedDates[1]),r=i+a.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(fe,i),Math.pow(fe,r)]:t.dateWindow_=[i,r],a.is2DPan)for(var n=a.dragEndY-a.dragStartY,s=0;s<t.axes_.length;s++){var l=t.axes_[s],o=a.axes[s],h=n*o.unitsPerPixel,u=a.boundedValues?a.boundedValues[s]:null,d=o.initialTopValue+h;u&&(d=Math.min(d,u[1]));var c=d-o.dragValueRange;u&&c<u[0]&&(d=d-(c-u[0]),c=d-o.dragValueRange),t.attributes_.getForAxis("logscale",s)?l.valueRange=[Math.pow(fe,c),Math.pow(fe,d)]:l.valueRange=[c,d]}t.drawGraph_(!1)};O.endPan=O.maybeTreatMouseOpAsClick;O.startZoom=function(e,t,a){a.isZooming=!0,a.zoomMoved=!1};O.moveZoom=function(e,t,a){a.zoomMoved=!0,a.dragEndX=Xe(e,a),a.dragEndY=Ge(e,a);var i=Math.abs(a.dragStartX-a.dragEndX),r=Math.abs(a.dragStartY-a.dragEndY);a.dragDirection=i<r/2?Fe:Me,t.drawZoomRect_(a.dragDirection,a.dragStartX,a.dragEndX,a.dragStartY,a.dragEndY,a.prevDragDirection,a.prevEndX,a.prevEndY),a.prevEndX=a.dragEndX,a.prevEndY=a.dragEndY,a.prevDragDirection=a.dragDirection};O.treatMouseOpAsClick=function(e,t,a){for(var i=e.getFunctionOption("clickCallback"),r=e.getFunctionOption("pointClickCallback"),n=null,s=-1,l=Number.MAX_VALUE,o=0;o<e.selPoints_.length;o++){var h=e.selPoints_[o],u=Math.pow(h.canvasx-a.dragEndX,2)+Math.pow(h.canvasy-a.dragEndY,2);!isNaN(u)&&(s==-1||u<l)&&(l=u,s=o)}var d=e.getNumericOption("highlightCircleSize")+2;if(l<=d*d&&(n=e.selPoints_[s]),n){var f={cancelable:!0,point:n,canvasx:a.dragEndX,canvasy:a.dragEndY},c=e.cascadeEvents_("pointClick",f);if(c)return;r&&r.call(e,t,n)}var f={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:a.dragEndX,canvasy:a.dragEndY};e.cascadeEvents_("click",f)||i&&i.call(e,t,e.lastx_,e.selPoints_)};O.endZoom=function(e,t,a){t.clearZoomRect_(),a.isZooming=!1,O.maybeTreatMouseOpAsClick(e,t,a);var i=t.getArea();if(a.regionWidth>=10&&a.dragDirection==Me){var r=Math.min(a.dragStartX,a.dragEndX),n=Math.max(a.dragStartX,a.dragEndX);r=Math.max(r,i.x),n=Math.min(n,i.x+i.w),r<n&&t.doZoomX_(r,n),a.cancelNextDblclick=!0}else if(a.regionHeight>=10&&a.dragDirection==Fe){var s=Math.min(a.dragStartY,a.dragEndY),l=Math.max(a.dragStartY,a.dragEndY);s=Math.max(s,i.y),l=Math.min(l,i.y+i.h),s<l&&t.doZoomY_(s,l),a.cancelNextDblclick=!0}a.dragStartX=null,a.dragStartY=null};O.startTouch=function(e,t,a){e.preventDefault(),e.touches.length>1&&(a.startTimeForDoubleTapMs=null);for(var i=[],r=0;r<e.touches.length;r++){var n=e.touches[r],s=n.target.getBoundingClientRect();i.push({pageX:n.pageX,pageY:n.pageY,dataX:t.toDataXCoord(n.clientX-s.left),dataY:t.toDataYCoord(n.clientY-s.top)})}if(a.initialTouches=i,i.length==1)a.initialPinchCenter=i[0],a.touchDirections={x:!0,y:!0};else if(i.length>=2){a.initialPinchCenter={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY),dataX:.5*(i[0].dataX+i[1].dataX),dataY:.5*(i[0].dataY+i[1].dataY)};var l=180/Math.PI*Math.atan2(a.initialPinchCenter.pageY-i[0].pageY,i[0].pageX-a.initialPinchCenter.pageX);l=Math.abs(l),l>90&&(l=90-l),a.touchDirections={x:l<90-45/2,y:l>45/2}}a.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}};O.moveTouch=function(e,t,a){a.startTimeForDoubleTapMs=null;var i,r=[];for(i=0;i<e.touches.length;i++){var n=e.touches[i];r.push({pageX:n.pageX,pageY:n.pageY})}var s=a.initialTouches,l,o=a.initialPinchCenter;r.length==1?l=r[0]:l={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY)};var h={pageX:l.pageX-o.pageX,pageY:l.pageY-o.pageY},u=a.initialRange.x[1]-a.initialRange.x[0],d=a.initialRange.y[0]-a.initialRange.y[1];h.dataX=h.pageX/t.plotter_.area.w*u,h.dataY=h.pageY/t.plotter_.area.h*d;var c,f;if(r.length==1)c=1,f=1;else if(r.length>=2){var g=s[1].pageX-o.pageX;c=(r[1].pageX-l.pageX)/g;var p=s[1].pageY-o.pageY;f=(r[1].pageY-l.pageY)/p}c=Math.min(8,Math.max(.125,c)),f=Math.min(8,Math.max(.125,f));var y=!1;if(a.touchDirections.x){var _=o.dataX-h.dataX/c;t.dateWindow_=[_+(a.initialRange.x[0]-o.dataX)/c,_+(a.initialRange.x[1]-o.dataX)/c],y=!0}if(a.touchDirections.y)for(i=0;i<1;i++){var b=t.axes_[i],w=t.attributes_.getForAxis("logscale",i);if(!w){var _=o.dataY-h.dataY/f;b.valueRange=[_+(a.initialRange.y[0]-o.dataY)/f,_+(a.initialRange.y[1]-o.dataY)/f],y=!0}}if(t.drawGraph_(!1),y&&r.length>1&&t.getFunctionOption("zoomCallback")){var x=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,x[0],x[1],t.yAxisRanges())}};O.endTouch=function(e,t,a){if(e.touches.length!==0)O.startTouch(e,t,a);else if(e.changedTouches.length==1){var i=new Date().getTime(),r=e.changedTouches[0];a.startTimeForDoubleTapMs&&i-a.startTimeForDoubleTapMs<500&&a.doubleTapX&&Math.abs(a.doubleTapX-r.screenX)<50&&a.doubleTapY&&Math.abs(a.doubleTapY-r.screenY)<50?t.resetZoom():(a.startTimeForDoubleTapMs=i,a.doubleTapX=r.screenX,a.doubleTapY=r.screenY)}};var bt=function(e,t,a){return e<t?t-e:e>a?e-a:0},_a=function(e,t){var a=Ae(t.canvas_),i={left:a.x,right:a.x+t.canvas_.offsetWidth,top:a.y,bottom:a.y+t.canvas_.offsetHeight},r={x:ze(e),y:Ve(e)},n=bt(r.x,i.left,i.right),s=bt(r.y,i.top,i.bottom);return Math.max(n,s)};O.defaultModel={mousedown:function(e,t,a){if(!(e.button&&e.button==2)){a.initializeMouseDown(e,t,a),e.altKey||e.shiftKey?O.startPan(e,t,a):O.startZoom(e,t,a);var i=function(n){if(a.isZooming){var s=_a(n,t);s<ya?O.moveZoom(n,t,a):a.dragEndX!==null&&(a.dragEndX=null,a.dragEndY=null,t.clearZoomRect_())}else a.isPanning&&O.movePan(n,t,a)},r=function(n){a.isZooming?a.dragEndX!==null?O.endZoom(n,t,a):O.maybeTreatMouseOpAsClick(n,t,a):a.isPanning&&O.endPan(n,t,a),J(document,"mousemove",i),J(document,"mouseup",r),a.destroy()};t.addAndTrackEvent(document,"mousemove",i),t.addAndTrackEvent(document,"mouseup",r)}},willDestroyContextMyself:!0,touchstart:function(e,t,a){O.startTouch(e,t,a)},touchmove:function(e,t,a){O.moveTouch(e,t,a)},touchend:function(e,t,a){O.endTouch(e,t,a)},dblclick:function(e,t,a){if(a.cancelNextDblclick){a.cancelNextDblclick=!1;return}var i={canvasx:a.dragEndX,canvasy:a.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",i)||e.altKey||e.shiftKey||t.resetZoom()}};O.nonInteractiveModel_={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a)},mouseup:O.maybeTreatMouseOpAsClick};O.dragIsPanInteractionModel={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a),O.startPan(e,t,a)},mousemove:function(e,t,a){a.isPanning&&O.movePan(e,t,a)},mouseup:function(e,t,a){a.isPanning&&O.endPan(e,t,a)}};var Be={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,resizable:"no",legend:"onmouseover",legendFollowOffsetX:50,legendFollowOffsetY:-50,stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:O.defaultModel,animatedZooms:!1,animateBackgroundFade:!0,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[M._fillPlotter,M._errorPlotter,M._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:Te,valueFormatter:Ze,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:xe},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:tt,axisLabelFormatter:at,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:he},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:tt,axisLabelFormatter:at,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:he}}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */if(typeof process<"u"&&!1)for(let i in OPTIONS_REFERENCE)var Fi;var G=function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};G.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};G.axisToIndex_=function(e){if(typeof e=="string"){if(G.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return G.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if(typeof e=="number"){if(e===0||e===1)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0};G.prototype.reparseSeries=function(){var e=this.get("labels");if(e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},a=0;a<this.labels_.length;a++){var i=this.labels_[a],r=t[i]||{},n=G.axisToIndex_(r.axis);this.series_[i]={idx:a,yAxis:n,options:r},this.yAxes_[n]?this.yAxes_[n].series.push(i):this.yAxes_[n]={series:[i],options:{}}}var s=this.user_.axes||{};j(this.yAxes_[0].options,s.y||{}),this.yAxes_.length>1&&j(this.yAxes_[1].options,s.y2||{}),j(this.xAxis_.options,s.x||{}),typeof process<"u"}};G.prototype.get=function(e){var t=this.getGlobalUser_(e);return t!==null?t:this.getGlobalDefault_(e)};G.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null};G.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:Be.hasOwnProperty(e)?Be[e]:null};G.prototype.getForAxis=function(e,t){var a,i;if(typeof t=="number")a=t,i=a===0?"y":"y2";else{if(t=="y1"&&(t="y"),t=="y")a=0;else if(t=="y2")a=1;else if(t=="x")a=-1;else throw"Unknown axis "+t;i=t}var r=a==-1?this.xAxis_:this.yAxes_[a];if(r){var n=r.options;if(n.hasOwnProperty(e))return n[e]}if(!(t==="x"&&e==="logscale")){var s=this.getGlobalUser_(e);if(s!==null)return s}var l=Be.axes[i];return l.hasOwnProperty(e)?l[e]:this.getGlobalDefault_(e)};G.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var a=this.series_[t],i=a.options;return i.hasOwnProperty(e)?i[e]:this.getForAxis(e,a.yAxis)};G.prototype.numAxes=function(){return this.yAxes_.length};G.prototype.axisForSeries=function(e){return this.series_[e].yAxis};G.prototype.axisOptions=function(e){return this.yAxes_[e].options};G.prototype.seriesForAxis=function(e){return this.yAxes_[e].series};G.prototype.seriesNames=function(){return this.labels_};if(typeof process<"u"&&!1)var Ii;function Ue(){this.tarps=[]}Ue.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var a=e[t],i=Ae(a),r=i.x,n=i.y,s=a.offsetWidth,l=a.offsetHeight,o=document.createElement("div");o.style.position="absolute",o.style.left=r+"px",o.style.top=n+"px",o.style.width=s+"px",o.style.height=l+"px",o.style.zIndex=999,document.body.appendChild(o),this.tarps.push(o)}};Ue.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var pe=function(){},K=pe;K.X=0;K.Y=1;K.EXTRAS=2;K.prototype.extractSeries=function(e,t,a){};K.prototype.seriesToPoints=function(e,t,a){for(var i=[],r=0;r<e.length;++r){var n=e[r],s=n[1],l=s===null?null:K.parseFloat(s),o={x:NaN,y:NaN,xval:K.parseFloat(n[0]),yval:l,name:t,idx:r+a,canvasx:NaN,canvasy:NaN};i.push(o)}return this.onPointsCreated_(e,i),i};K.prototype.onPointsCreated_=function(e,t){};K.prototype.rollingAverage=function(e,t,a,i){};K.prototype.getExtremeYValues=function(e,t,a){};K.prototype.onLineEvaluated=function(e,t,a){};K.parseFloat=function(e){return e===null?NaN:e};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var de=function(){};de.prototype=new pe;de.prototype.extractSeries=function(e,t,a){var i=[];const r=a.get("labels")[t],n=a.getForSeries("logscale",r);for(var s=0;s<e.length;s++){var l=e[s][0],o=e[s][t];n&&o<=0&&(o=null),i.push([l,o])}return i};de.prototype.rollingAverage=function(e,t,a,n){t=Math.min(t,e.length);var r=[],n,s,l,o,h;if(t==1)return e;for(n=0;n<e.length;n++){for(o=0,h=0,s=Math.max(0,n-t+1);s<n+1;s++)l=e[s][1],!(l===null||isNaN(l))&&(h++,o+=e[s][1]);h?r[n]=[e[n][0],o/h]:r[n]=[e[n][0],null]}return r};de.prototype.getExtremeYValues=function(t,a,i){for(var r=null,n=null,s,l=0,o=t.length-1,h=l;h<=o;h++)s=t[h][1],!(s===null||isNaN(s))&&((n===null||s>n)&&(n=s),(r===null||s<r)&&(r=s));return[r,n]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var ee=function(){pe.call(this)};ee.prototype=new pe;ee.prototype.extractSeries=function(e,t,a){};ee.prototype.rollingAverage=function(e,t,a,i){};ee.prototype.onPointsCreated_=function(e,t){for(var a=0;a<e.length;++a){var i=e[a],r=t[a];r.y_top=NaN,r.y_bottom=NaN,r.yval_minus=pe.parseFloat(i[2][0]),r.yval_plus=pe.parseFloat(i[2][1])}};ee.prototype.getExtremeYValues=function(e,t,a){for(var i=null,r=null,n,s=0,l=e.length-1,o=s;o<=l;o++)if(n=e[o][1],!(n===null||isNaN(n))){var h=e[o][2][0],u=e[o][2][1];h>n&&(h=n),u<n&&(u=n),(r===null||u>r)&&(r=u),(i===null||h<i)&&(i=h)}return[i,r]};ee.prototype.onLineEvaluated=function(e,t,a){for(var i,r=0;r<e.length;r++)i=e[r],i.y_top=V.calcYNormal_(t,i.yval_minus,a),i.y_bottom=V.calcYNormal_(t,i.yval_plus,a)};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var Ce=function(){};Ce.prototype=new ee;Ce.prototype.extractSeries=function(e,t,a){var i=[],r,n,s,l;const o=a.get("labels")[t],h=a.getForSeries("logscale",o),u=a.getForSeries("sigma",o);for(var d=0;d<e.length;d++)r=e[d][0],l=e[d][t],h&&l!==null&&(l[0]<=0||l[0]-u*l[1]<=0)&&(l=null),l!==null?(n=l[0],n!==null&&!isNaN(n)?(s=u*l[1],i.push([r,n,[n-s,n+s,l[1]]])):i.push([r,n,[n,n,n]])):i.push([r,null,[null,null,null]]);return i};Ce.prototype.rollingAverage=function(e,t,a,l){t=Math.min(t,e.length);var r=[];const n=a.get("labels")[l],s=a.getForSeries("sigma",n);var l,o,h,u,d,c,f,g,p;for(l=0;l<e.length;l++){for(d=0,g=0,c=0,o=Math.max(0,l-t+1);o<l+1;o++)h=e[o][1],!(h===null||isNaN(h))&&(c++,d+=h,g+=Math.pow(e[o][2][2],2));c?(f=Math.sqrt(g)/c,p=d/c,r[l]=[e[l][0],p,[p-s*f,p+s*f]]):(u=t==1?e[l][1]:null,r[l]=[e[l][0],u,[u,u]])}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var De=function(){};De.prototype=new ee;De.prototype.extractSeries=function(e,t,a){var i=[],r,n,s;const l=a.get("labels")[t],o=a.getForSeries("logscale",l);for(var h=0;h<e.length;h++)r=e[h][0],s=e[h][t],o&&s!==null&&(s[0]<=0||s[1]<=0||s[2]<=0)&&(s=null),s!==null?(n=s[1],n!==null&&!isNaN(n)?i.push([r,n,[s[0],s[2]]]):i.push([r,n,[n,n]])):i.push([r,null,[null,null]]);return i};De.prototype.rollingAverage=function(e,t,a,u){t=Math.min(t,e.length);var r=[],n,s,l,o,h,u,d;for(s=0,o=0,l=0,h=0,u=0;u<e.length;u++){if(n=e[u][1],d=e[u][2],r[u]=e[u],n!==null&&!isNaN(n)&&(s+=d[0],o+=n,l+=d[1],h+=1),u-t>=0){var c=e[u-t];c[1]!==null&&!isNaN(c[1])&&(s-=c[2][0],o-=c[1],l-=c[2][1],h-=1)}h?r[u]=[e[u][0],1*o/h,[1*s/h,1*l/h]]:r[u]=[e[u][0],null,[null,null]]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var Le=function(){};Le.prototype=new de;Le.prototype.extractSeries=function(e,t,a){var i=[],r,n,s,l,o,h,u=100;const d=a.get("labels")[t],c=a.getForSeries("logscale",d);for(var f=0;f<e.length;f++)r=e[f][0],s=e[f][t],c&&s!==null&&(s[0]<=0||s[1]<=0)&&(s=null),s!==null?(l=s[0],o=s[1],l!==null&&!isNaN(l)?(h=o?l/o:0,n=u*h,i.push([r,n,[l,o]])):i.push([r,l,[l,o]])):i.push([r,null,[null,null]]);return i};Le.prototype.rollingAverage=function(e,t,a,n){t=Math.min(t,e.length);var r=[],n,s=0,l=0,o=100;for(n=0;n<e.length;n++){s+=e[n][2][0],l+=e[n][2][1],n-t>=0&&(s-=e[n-t][2][0],l-=e[n-t][2][1]);var h=e[n][0],u=l?s/l:0;r[n]=[h,o*u]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var Oe=function(){};Oe.prototype=new ee;Oe.prototype.extractSeries=function(e,t,a){var i=[],r,n,s,l,o,h,u,d,c=100;const f=a.get("labels")[t],g=a.getForSeries("logscale",f),p=a.getForSeries("sigma",f);for(var y=0;y<e.length;y++)r=e[y][0],s=e[y][t],g&&s!==null&&(s[0]<=0||s[1]<=0)&&(s=null),s!==null?(l=s[0],o=s[1],l!==null&&!isNaN(l)?(h=o?l/o:0,u=o?p*Math.sqrt(h*(1-h)/o):1,d=c*u,n=c*h,i.push([r,n,[n-d,n+d,l,o]])):i.push([r,l,[l,l,l,o]])):i.push([r,null,[null,null,null,null]]);return i};Oe.prototype.rollingAverage=function(e,t,a,u){t=Math.min(t,e.length);var r=[];const n=a.get("labels")[u],s=a.getForSeries("sigma",n),l=a.getForSeries("wilsonInterval",n);var o,h,u,d,c=0,f=0,g=100;for(u=0;u<e.length;u++){c+=e[u][2][2],f+=e[u][2][3],u-t>=0&&(c-=e[u-t][2][2],f-=e[u-t][2][3]);var p=e[u][0],y=f?c/f:0;if(l)if(f){var _=y<0?0:y,b=f,w=s*Math.sqrt(_*(1-_)/b+s*s/(4*b*b)),x=1+s*s/f;o=(_+s*s/(2*f)-w)/x,h=(_+s*s/(2*f)+w)/x,r[u]=[p,_*g,[o*g,h*g]]}else r[u]=[p,0,[0,0]];else d=f?s*Math.sqrt(y*(1-y)/f):1,r[u]=[p,g*y,[g*(y-d),g*(y+d)]]}return r};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var re=function(){this.annotations_=[]};re.prototype.toString=function(){return"Annotations Plugin"};re.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};re.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]};re.prototype.clearChart=function(e){this.detachLabels()};re.prototype.didDrawChart=function(e){var t=e.dygraph,a=t.layout_.annotated_points;if(!(!a||a.length===0))for(var i=e.canvas.parentNode,r=function(x,D,I){return function(A){var T=I.annotation;T.hasOwnProperty(x)?T[x](T,I,t,A):t.getOption(D)&&t.getOption(D)(T,I,t,A)}},n=e.dygraph.getArea(),s={},l=0;l<a.length;l++){var o=a[l];if(!(o.canvasx<n.x||o.canvasx>n.x+n.w||o.canvasy<n.y||o.canvasy>n.y+n.h)){var h=o.annotation,u=6;h.hasOwnProperty("tickHeight")&&(u=h.tickHeight);var d=document.createElement("div");d.style.fontSize=t.getOption("axisLabelFontSize")+"px";var c="dygraph-annotation";h.hasOwnProperty("icon")||(c+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(c+=" "+h.cssClass),d.className=c;var f=h.hasOwnProperty("width")?h.width:16,g=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var p=document.createElement("img");p.src=h.icon,p.width=f,p.height=g,d.appendChild(p)}else o.annotation.hasOwnProperty("shortText")&&d.appendChild(document.createTextNode(o.annotation.shortText));var y=o.canvasx-f/2;d.style.left=y+"px";var _=0;if(h.attachAtBottom){var b=n.y+n.h-g-u;s[y]?b-=s[y]:s[y]=0,s[y]+=u+g,_=b}else _=o.canvasy-g-u;d.style.top=_+"px",d.style.width=f+"px",d.style.height=g+"px",d.title=o.annotation.text,d.style.color=t.colorsMap_[o.name],d.style.borderColor=t.colorsMap_[o.name],h.div=d,t.addAndTrackEvent(d,"click",r("clickHandler","annotationClickHandler",o)),t.addAndTrackEvent(d,"mouseover",r("mouseOverHandler","annotationMouseOverHandler",o)),t.addAndTrackEvent(d,"mouseout",r("mouseOutHandler","annotationMouseOutHandler",o)),t.addAndTrackEvent(d,"dblclick",r("dblClickHandler","annotationDblClickHandler",o)),i.appendChild(d),this.annotations_.push(d);var w=e.drawingContext;if(w.save(),w.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:t.colorsMap_[o.name],w.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:t.getOption("strokeWidth"),w.beginPath(),!h.attachAtBottom)w.moveTo(o.canvasx,o.canvasy),w.lineTo(o.canvasx,o.canvasy-2-u);else{var b=_+g;w.moveTo(o.canvasx,b),w.lineTo(o.canvasx,b+u)}w.closePath(),w.stroke(),w.restore()}}};re.prototype.destroy=function(){this.detachLabels()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var ne=function(){this.xlabels_=[],this.ylabels_=[]};ne.prototype.toString=function(){return"Axes Plugin"};ne.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};ne.prototype.layout=function(e){var t=e.dygraph;if(t.getOptionForAxis("drawAxis","y")){var a=t.getOptionForAxis("axisLabelWidth","y")+2*t.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(a)}if(t.getOptionForAxis("drawAxis","x")){var i;t.getOption("xAxisHeight")?i=t.getOption("xAxisHeight"):i=t.getOptionForAxis("axisLabelFontSize","x")+2*t.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(i)}if(t.numAxes()==2){if(t.getOptionForAxis("drawAxis","y2")){var a=t.getOptionForAxis("axisLabelWidth","y2")+2*t.getOptionForAxis("axisTickSize","y2");e.reserveSpaceRight(a)}}else t.numAxes()>2&&t.error("Only two y-axes are supported at this time. (Trying to use "+t.numAxes()+")")};ne.prototype.detachLabels=function(){function e(t){for(var a=0;a<t.length;a++){var i=t[a];i.parentNode&&i.parentNode.removeChild(i)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]};ne.prototype.clearChart=function(e){this.detachLabels()};ne.prototype.willDrawChart=function(e){var t=e.dygraph;if(!t.getOptionForAxis("drawAxis","x")&&!t.getOptionForAxis("drawAxis","y")&&!t.getOptionForAxis("drawAxis","y2"))return;function a(T){return Math.round(T)+.5}function i(T){return Math.round(T)-.5}var r=e.drawingContext,n=e.canvas.parentNode,s=t.width_,l=t.height_,o,h,u,d=function(T){return{position:"absolute",fontSize:t.getOptionForAxis("axisLabelFontSize",T)+"px",width:t.getOptionForAxis("axisLabelWidth",T)+"px"}},c={x:d("x"),y:d("y"),y2:d("y2")},f=function(T,S,m){var C=document.createElement("div"),R=c[m=="y2"?"y2":S];j(C.style,R);var Z=document.createElement("div");return Z.className="dygraph-axis-label dygraph-axis-label-"+S+(m?" dygraph-axis-label-"+m:""),Z.innerHTML=T,C.appendChild(Z),C};r.save();var g=t.layout_,p=e.dygraph.plotter_.area,y=function(T){return function(S){return t.getOptionForAxis(S,T)}};const _=this;if(t.getOptionForAxis("drawAxis","y")||t.numAxes()==2&&t.getOptionForAxis("drawAxis","y2")){if(g.yticks&&g.yticks.length>0){var b=t.numAxes(),w=[y("y"),y("y2")];g.yticks.forEach(function(T){if(T.label!==void 0){h=p.x;var S="y1",m=w[0];if(T.axis==1&&(h=p.x+p.w,S="y2",m=w[1]),!!m("drawAxis")){var C=m("axisLabelFontSize");u=p.y+T.pos*p.h,o=f(T.label,"y",b==2?S:null);var R=u-C/2;R<0&&(R=0),R+C+3>l?o.style.bottom="0":o.style.top=Math.min(R,l-2*C)+"px",T.axis===0?(o.style.left=p.x-m("axisLabelWidth")-m("axisTickSize")+"px",o.style.textAlign="right"):T.axis==1&&(o.style.left=p.x+p.w+m("axisTickSize")+"px",o.style.textAlign="left"),o.style.width=m("axisLabelWidth")+"px",n.appendChild(o),_.ylabels_.push(o)}}})}var x;if(t.getOption("drawAxesAtZero")){var D=t.toPercentXCoord(0);(D>1||D<0||isNaN(D))&&(D=0),x=a(p.x+D*p.w)}else x=a(p.x);r.strokeStyle=t.getOptionForAxis("axisLineColor","y"),r.lineWidth=t.getOptionForAxis("axisLineWidth","y"),r.beginPath(),r.moveTo(x,i(p.y)),r.lineTo(x,i(p.y+p.h)),r.closePath(),r.stroke(),t.numAxes()==2&&t.getOptionForAxis("drawAxis","y2")&&(r.strokeStyle=t.getOptionForAxis("axisLineColor","y2"),r.lineWidth=t.getOptionForAxis("axisLineWidth","y2"),r.beginPath(),r.moveTo(i(p.x+p.w),i(p.y)),r.lineTo(i(p.x+p.w),i(p.y+p.h)),r.closePath(),r.stroke())}if(t.getOptionForAxis("drawAxis","x")){if(g.xticks){var I=y("x");g.xticks.forEach(function(T){if(T.label!==void 0){h=p.x+T.pos*p.w,u=p.y+p.h,o=f(T.label,"x"),o.style.textAlign="center",o.style.top=u+I("axisTickSize")+"px";var S=h-I("axisLabelWidth")/2;S+I("axisLabelWidth")>s&&(S=s-I("axisLabelWidth"),o.style.textAlign="right"),S<0&&(S=0,o.style.textAlign="left"),o.style.left=S+"px",o.style.width=I("axisLabelWidth")+"px",n.appendChild(o),_.xlabels_.push(o)}})}r.strokeStyle=t.getOptionForAxis("axisLineColor","x"),r.lineWidth=t.getOptionForAxis("axisLineWidth","x"),r.beginPath();var A;if(t.getOption("drawAxesAtZero")){var D=t.toPercentYCoord(0,0);(D>1||D<0)&&(D=1),A=i(p.y+D*p.h)}else A=i(p.y+p.h);r.moveTo(a(p.x),A),r.lineTo(a(p.x+p.w),A),r.closePath(),r.stroke()}r.restore()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var te=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};te.prototype.toString=function(){return"ChartLabels Plugin"};te.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var wt=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};te.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var a=e[t];a&&a.parentNode&&a.parentNode.removeChild(a)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var xt=function(e,t,a,i,r){var n=document.createElement("div");n.style.position="absolute",a==1?n.style.left="0px":n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.w+"px",n.style.height=t.h+"px",n.style.fontSize=e.getOption("yLabelWidth")-2+"px";var s=document.createElement("div");s.style.position="absolute",s.style.width=t.h+"px",s.style.height=t.w+"px",s.style.top=t.h/2-t.w/2+"px",s.style.left=t.w/2-t.h/2+"px",s.className="dygraph-label-rotate-"+(a==1?"right":"left");var l=document.createElement("div");return l.className=i,l.innerHTML=r,s.appendChild(l),n.appendChild(s),n};te.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,a=e.chart_div;if(t.getOption("title")){var i=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=wt(i),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px";var r=document.createElement("div");r.className="dygraph-label dygraph-title",r.innerHTML=t.getOption("title"),this.title_div_.appendChild(r),a.appendChild(this.title_div_)}if(t.getOption("xlabel")){var n=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=wt(n),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px";var r=document.createElement("div");r.className="dygraph-label dygraph-xlabel",r.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(r),a.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var s=e.reserveSpaceLeft(0);this.ylabel_div_=xt(t,s,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),a.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&t.numAxes()==2){var l=e.reserveSpaceRight(0);this.y2label_div_=xt(t,l,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),a.appendChild(this.y2label_div_)}};te.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))};te.prototype.clearChart=function(){};te.prototype.destroy=function(){this.detachLabels_()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var ge=function(){};ge.prototype.toString=function(){return"Gridline Plugin"};ge.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}};ge.prototype.willDrawChart=function(e){var t=e.dygraph,a=e.drawingContext,i=t.layout_,r=e.dygraph.plotter_.area;function n(_){return Math.round(_)+.5}function s(_){return Math.round(_)-.5}var l,o,h,u;if(t.getOptionForAxis("drawGrid","y")){for(var d=["y","y2"],c=[],f=[],g=[],p=[],y=[],h=0;h<d.length;h++)g[h]=t.getOptionForAxis("drawGrid",d[h]),g[h]&&(c[h]=t.getOptionForAxis("gridLineColor",d[h]),f[h]=t.getOptionForAxis("gridLineWidth",d[h]),y[h]=t.getOptionForAxis("gridLinePattern",d[h]),p[h]=y[h]&&y[h].length>=2);u=i.yticks,a.save(),u.forEach(_=>{if(_.has_tick){var b=_.axis;g[b]&&(a.save(),p[b]&&a.setLineDash&&a.setLineDash(y[b]),a.strokeStyle=c[b],a.lineWidth=f[b],l=n(r.x),o=s(r.y+_.pos*r.h),a.beginPath(),a.moveTo(l,o),a.lineTo(l+r.w,o),a.stroke(),a.restore())}}),a.restore()}if(t.getOptionForAxis("drawGrid","x")){u=i.xticks,a.save();var y=t.getOptionForAxis("gridLinePattern","x"),p=y&&y.length>=2;p&&a.setLineDash&&a.setLineDash(y),a.strokeStyle=t.getOptionForAxis("gridLineColor","x"),a.lineWidth=t.getOptionForAxis("gridLineWidth","x"),u.forEach(w=>{w.has_tick&&(l=n(r.x+w.pos*r.w),o=s(r.y+r.h),a.beginPath(),a.moveTo(l,o),a.lineTo(l,r.y),a.stroke())}),p&&a.setLineDash&&a.setLineDash([]),a.restore()}};ge.prototype.destroy=function(){};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var U=function(){this.legend_div_=null,this.is_generated_div_=!1};U.prototype.toString=function(){return"Legend Plugin"};U.prototype.activate=function(e){var t,a=e.getOption("labelsDiv");return a&&a!==null?typeof a=="string"||a instanceof String?t=document.getElementById(a):t=a:(t=document.createElement("div"),t.className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var ma=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var a=t.offsetWidth;return e.removeChild(t),a},ba=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&#34;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};U.prototype.select=function(e){var t=e.selectedX,a=e.selectedPoints,i=e.selectedRow,r=e.dygraph.getOption("legend");if(r==="never"){this.legend_div_.style.display="none";return}var n=U.generateLegendHTML(e.dygraph,t,a,this.one_em_width_,i);if(n instanceof Node&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(this.legend_div_.innerHTML="",this.legend_div_.appendChild(n)):this.legend_div_.innerHTML=n,this.legend_div_.style.display="",r==="follow"){var s=e.dygraph.plotter_.area,l=this.legend_div_.offsetWidth,o=e.dygraph.getOptionForAxis("axisLabelWidth","y"),h=e.dygraph.getHighlightSeries(),u;h?(u=a.find(p=>p.name===h),u||(u=a[0])):u=a[0];const f=e.dygraph.getNumericOption("legendFollowOffsetX"),g=e.dygraph.getNumericOption("legendFollowOffsetY");var d=u.x*s.w+f,c=u.y*s.h+g;d+l+1>s.w&&(d=d-2*f-l-(o-s.x)),this.legend_div_.style.left=o+d+"px",this.legend_div_.style.top=c+"px"}else if(r==="onmouseover"&&this.is_generated_div_){var s=e.dygraph.plotter_.area,l=this.legend_div_.offsetWidth;this.legend_div_.style.left=s.x+s.w-l-1+"px",this.legend_div_.style.top=s.y+"px"}};U.prototype.deselect=function(e){var t=e.dygraph.getOption("legend");t!=="always"&&(this.legend_div_.style.display="none");var a=ma(this.legend_div_);this.one_em_width_=a;var i=U.generateLegendHTML(e.dygraph,void 0,void 0,a,null);i instanceof Node&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(this.legend_div_.innerHTML="",this.legend_div_.appendChild(i)):this.legend_div_.innerHTML=i};U.prototype.didDrawChart=function(e){this.deselect(e)};U.prototype.predraw=function(e){if(this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.plotter_.area,a=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-a-1+"px",this.legend_div_.style.top=t.y+"px"}};U.prototype.destroy=function(){this.legend_div_=null};U.generateLegendHTML=function(e,t,a,i,r){var n={dygraph:e,x:t,i:r,series:[]},s={},l=e.getLabels();if(l)for(var o=1;o<l.length;o++){var h=e.getPropertiesForSeries(l[o]),u=e.getOption("strokePattern",l[o]),d={dashHTML:wa(u,h.color,i),label:l[o],labelHTML:ba(l[o]),isVisible:h.visible,color:h.color};n.series.push(d),s[l[o]]=d}if(typeof t<"u"){var c=e.optionsViewForAxis_("x"),f=c("valueFormatter");n.xHTML=f.call(e,t,c,l[0],e,r,0);for(var g=[],p=e.numAxes(),o=0;o<p;o++)g[o]=e.optionsViewForAxis_("y"+(o?1+o:""));var y=e.getOption("labelsShowZeroValues"),_=e.getHighlightSeries();for(o=0;o<a.length;o++){var b=a[o],d=s[b.name];if(d.y=b.yval,b.yval===0&&!y||isNaN(b.canvasy)){d.isVisible=!1;continue}var h=e.getPropertiesForSeries(b.name),w=g[h.axis-1],x=w("valueFormatter"),D=x.call(e,b.yval,w,b.name,e,r,l.indexOf(b.name));j(d,{yHTML:D}),b.name==_&&(d.isHighlighted=!0)}}var I=e.getOption("legendFormatter")||U.defaultFormatter;return I.call(e,n)};U.defaultFormatter=function(e){var t=e.dygraph;if(t.getOption("showLabelsOnHighlight")!==!0)return"";var a=t.getOption("labelsSeparateLines"),i;if(typeof e.x>"u"){if(t.getOption("legend")!="always")return"";i="";for(var r=0;r<e.series.length;r++){var n=e.series[r];n.isVisible&&(i!==""&&(i+=a?"<br />":" "),i+=`<span style='font-weight: bold; color: ${n.color};'>${n.dashHTML} ${n.labelHTML}</span>`)}return i}i=e.xHTML+":";for(var r=0;r<e.series.length;r++){var n=e.series[r];if(!(!n.y&&!n.yHTML)&&n.isVisible){a&&(i+="<br>");var s=n.isHighlighted?' class="highlight"':"";i+=`<span${s}> <b><span style='color: ${n.color};'>${n.labelHTML}</span></b>:&#160;${n.yHTML}</span>`}}return i};function wa(e,t,a){if(!e||e.length<=1)return`<div class="dygraph-legend-line" style="border-bottom-color: ${t};"></div>`;var i,r,n,s,l=0,o=0,h=[],u;for(i=0;i<=e.length;i++)l+=e[i%e.length];if(u=Math.floor(a/(l-e[0])),u>1){for(i=0;i<e.length;i++)h[i]=e[i]/a;o=h.length}else{for(u=1,i=0;i<e.length;i++)h[i]=e[i]/l;o=h.length+1}var d="";for(r=0;r<u;r++)for(i=0;i<o;i+=2)n=h[i%h.length],i<e.length?s=h[(i+1)%h.length]:s=0,d+=`<div class="dygraph-legend-dash" style="margin-right: ${s}em; padding-left: ${n}em;"></div>`;return d}/**
 * @license
 * Copyright 2011 Paul Felix (paul.eric.felix@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var W=function(){this.hasTouchInterface_=typeof TouchEvent<"u",this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};W.prototype.toString=function(){return"RangeSelector Plugin"};W.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};W.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null};W.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)};W.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t};W.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()};W.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)};W.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null};W.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)};W.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())};W.prototype.renderInteractiveLayer_=function(){!this.updateVisibility_()||this.isChangingRange_||(this.placeZoomHandles_(),this.drawInteractiveLayer_())};W.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?(!this.graphDiv_||!this.graphDiv_.parentNode)&&this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0,t.resize()},1)}return e};W.prototype.resize_=function(){function e(r,n,s,l){var o=l||et(n);r.style.top=s.y+"px",r.style.left=s.x+"px",r.width=s.w*o,r.height=s.h*o,r.style.width=s.w+"px",r.style.height=s.h+"px",o!=1&&n.scale(o,o)}var t=this.dygraph_.layout_.getPlotArea(),a=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(a=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+a+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var i=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,i),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,i)};W.prototype.createCanvases_=function(){this.bgcanvas_=We(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Ie(this.bgcanvas_),this.fgcanvas_=We(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Ie(this.fgcanvas_)};W.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)};W.prototype.initInteraction_=function(){var e=this,t=document,a=0,i=null,r=!1,n=!1,s=!this.isMobileDevice_,l=new Ue,o,h,u,d,c,f,g,p,y,_,b,w,x,D;o=function(A){var T=e.dygraph_.xAxisExtremes(),S=(T[1]-T[0])/e.canvasRect_.w,m=T[0]+(A.leftHandlePos-e.canvasRect_.x)*S,C=T[0]+(A.rightHandlePos-e.canvasRect_.x)*S;return[m,C]},h=function(A){return ae(A),r=!0,a=A.clientX,i=A.target?A.target:A.srcElement,(A.type==="mousedown"||A.type==="dragstart")&&(ye(t,"mousemove",u),ye(t,"mouseup",d)),e.fgcanvas_.style.cursor="col-resize",l.cover(),!0},u=function(A){if(!r)return!1;ae(A);var T=A.clientX-a;if(Math.abs(T)<4)return!0;a=A.clientX;var S=e.getZoomHandleStatus_(),m;i==e.leftZoomHandle_?(m=S.leftHandlePos+T,m=Math.min(m,S.rightHandlePos-i.width-3),m=Math.max(m,e.canvasRect_.x)):(m=S.rightHandlePos+T,m=Math.min(m,e.canvasRect_.x+e.canvasRect_.w),m=Math.max(m,S.leftHandlePos+i.width+3));var C=i.width/2;return i.style.left=m-C+"px",e.drawInteractiveLayer_(),s&&c(),!0},d=function(A){return r?(r=!1,l.uncover(),J(t,"mousemove",u),J(t,"mouseup",d),e.fgcanvas_.style.cursor="default",s||c(),!0):!1},c=function(){try{var A=e.getZoomHandleStatus_();if(e.isChangingRange_=!0,!A.isZoomed)e.dygraph_.resetZoom();else{var T=o(A);e.dygraph_.doZoomXDates_(T[0],T[1])}}finally{e.isChangingRange_=!1}},f=function(A){var T=e.leftZoomHandle_.getBoundingClientRect(),S=T.left+T.width/2;T=e.rightZoomHandle_.getBoundingClientRect();var m=T.left+T.width/2;return A.clientX>S&&A.clientX<m},g=function(A){return!n&&f(A)&&e.getZoomHandleStatus_().isZoomed?(ae(A),n=!0,a=A.clientX,A.type==="mousedown"&&(ye(t,"mousemove",p),ye(t,"mouseup",y)),!0):!1},p=function(A){if(!n)return!1;ae(A);var T=A.clientX-a;if(Math.abs(T)<4)return!0;a=A.clientX;var S=e.getZoomHandleStatus_(),m=S.leftHandlePos,C=S.rightHandlePos,R=C-m;m+T<=e.canvasRect_.x?(m=e.canvasRect_.x,C=m+R):C+T>=e.canvasRect_.x+e.canvasRect_.w?(C=e.canvasRect_.x+e.canvasRect_.w,m=C-R):(m+=T,C+=T);var Z=e.leftZoomHandle_.width/2;return e.leftZoomHandle_.style.left=m-Z+"px",e.rightZoomHandle_.style.left=C-Z+"px",e.drawInteractiveLayer_(),s&&_(),!0},y=function(A){return n?(n=!1,J(t,"mousemove",p),J(t,"mouseup",y),s||_(),!0):!1},_=function(){try{e.isChangingRange_=!0,e.dygraph_.dateWindow_=o(e.getZoomHandleStatus_()),e.dygraph_.drawGraph_(!1)}finally{e.isChangingRange_=!1}},b=function(A){if(!(r||n)){var T=f(A)?"move":"default";T!=e.fgcanvas_.style.cursor&&(e.fgcanvas_.style.cursor=T)}},w=function(A){A.type=="touchstart"&&A.targetTouches.length==1?h(A.targetTouches[0])&&ae(A):A.type=="touchmove"&&A.targetTouches.length==1?u(A.targetTouches[0])&&ae(A):d(A)},x=function(A){A.type=="touchstart"&&A.targetTouches.length==1?g(A.targetTouches[0])&&ae(A):A.type=="touchmove"&&A.targetTouches.length==1?p(A.targetTouches[0])&&ae(A):y(A)},D=function(A,T){for(var S=["touchstart","touchend","touchmove","touchcancel"],m=0;m<S.length;m++)e.dygraph_.addAndTrackEvent(A,S[m],T)},this.setDefaultOption_("interactionModel",O.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var I=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,I,h),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,I,h),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",g),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",b),this.hasTouchInterface_&&(D(this.leftZoomHandle_,w),D(this.rightZoomHandle_,w),D(this.fgcanvas_,x))};W.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(a){console.warn(a)}var t=.5;this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(t,t),e.lineTo(t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,t),e.stroke()};W.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),a=this.getOption_("rangeSelectorPlotStrokeColor");if(!(!e&&!a)){var i=this.getOption_("stepPlot"),r=this.computeCombinedSeriesAndLimits_(),n=r.yMax-r.yMin,s=this.bgcanvas_ctx_,l=.5,o=this.dygraph_.xAxisExtremes(),h=Math.max(o[1]-o[0],1e-30),u=(this.canvasRect_.w-l)/h,d=(this.canvasRect_.h-l)/n,c=this.canvasRect_.w-l,f=this.canvasRect_.h-l,g=null,p=null;s.beginPath(),s.moveTo(l,f);for(var y=0;y<r.data.length;y++){var _=r.data[y],b=_[0]!==null?(_[0]-o[0])*u:NaN,w=_[1]!==null?f-(_[1]-r.yMin)*d:NaN;!i&&g!==null&&Math.round(b)==Math.round(g)||(isFinite(b)&&isFinite(w)?(g===null?s.lineTo(b,f):i&&s.lineTo(b,p),s.lineTo(b,w),g=b,p=w):(g!==null&&(i?(s.lineTo(b,p),s.lineTo(b,f)):s.lineTo(g,f)),g=p=null))}if(s.lineTo(c,f),s.closePath(),e){var x=this.bgcanvas_ctx_.createLinearGradient(0,0,0,f);t&&x.addColorStop(0,t),x.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=x,s.fill()}a&&(this.bgcanvas_ctx_.strokeStyle=a,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),s.stroke())}};W.prototype.computeCombinedSeriesAndLimits_=function(){var e=this.dygraph_,t=this.getOption_("logscale"),a,i=e.numColumns(),r=e.getLabels(),n=new Array(i),s=!1,l=e.visibility(),o=[];for(a=1;a<i;a++){var h=this.getOption_("showInRangeSelector",r[a]);o.push(h),h!==null&&(s=!0)}if(s)for(a=1;a<i;a++)n[a]=o[a-1];else for(a=1;a<i;a++)n[a]=l[a-1];var u=[],d=e.dataHandler_,c=e.attributes_;for(a=1;a<e.numColumns();a++)if(n[a]){var f=d.extractSeries(e.rawData_,a,c);e.rollPeriod()>1&&(f=d.rollingAverage(f,e.rollPeriod(),c,a)),u.push(f)}var g=[];for(a=0;a<u[0].length;a++){for(var p=0,y=0,_=0;_<u.length;_++){var b=u[_][a][1];b===null||isNaN(b)||(y++,p+=b)}g.push([u[0][a][0],p/y])}var w=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(a=0;a<g.length;a++){var D=g[a][1];D!==null&&isFinite(D)&&(!t||D>0)&&(w=Math.min(w,D),x=Math.max(x,D))}var I=.25;if(t)for(x=H(x),x+=x*I,w=H(w),a=0;a<g.length;a++)g[a][1]=H(g[a][1]);else{var A,T=x-w;T<=Number.MIN_VALUE?A=x*I:A=T*I,x+=A,w-=A}return{data:g,yMin:w,yMax:x}};W.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),a=e[1]-e[0],i=Math.max(0,(t[0]-e[0])/a),r=Math.max(0,(e[1]-t[1])/a),n=this.canvasRect_.x+this.canvasRect_.w*i,s=this.canvasRect_.x+this.canvasRect_.w*(1-r),l=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),o=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=n-o+"px",this.leftZoomHandle_.style.top=l+"px",this.rightZoomHandle_.style.left=s-o+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"};W.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1,a=this.canvasRect_.w-t,i=this.canvasRect_.h-t,r=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),!r.isZoomed)e.beginPath(),e.moveTo(t,t),e.lineTo(t,i),e.lineTo(a,i),e.lineTo(a,t),e.stroke();else{var n=Math.max(t,r.leftHandlePos-this.canvasRect_.x),s=Math.min(a,r.rightHandlePos-this.canvasRect_.x);const l=this.getOption_("rangeSelectorVeilColour");e.fillStyle=l||"rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,n,this.canvasRect_.h),e.fillRect(s,0,this.canvasRect_.w-s,this.canvasRect_.h),e.beginPath(),e.moveTo(t,t),e.lineTo(n,t),e.lineTo(n,i),e.lineTo(s,i),e.lineTo(s,t),e.lineTo(a,t),e.stroke()}};W.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,a=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:a,isZoomed:t-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var $e=function(e){this.container=e};$e.prototype.draw=function(e,t){this.container.innerHTML="",typeof this.date_graph<"u"&&this.date_graph.destroy(),this.date_graph=new v(this.container,e,t)};$e.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)};$e.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var a=this.date_graph.layout_.points,i=0;i<a.length;++i)e.push({row:t,column:i+1});return e};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */var v=function(t,a,i){this.__init__(t,a,i)};v.NAME="Dygraph";v.VERSION="2.2.1";var it={};v._require=function(t){return t in it?it[t]:v._require._b(t)};v._require._b=null;v._require.add=function(t,a){it[t]=a};v.DEFAULT_ROLL_PERIOD=1;v.DEFAULT_WIDTH=480;v.DEFAULT_HEIGHT=320;v.ANIMATION_STEPS=12;v.ANIMATION_DURATION=200;v.Plotters=M._Plotters;v.addedAnnotationCSS=!1;v.prototype.__init__=function(e,t,a){if(this.is_initial_draw_=!0,this.readyFns_=[],a==null&&(a={}),a=v.copyUserAttrs_(a),typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=a.rollPeriod||v.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=a.fractions||!1,this.dateWindow_=a.dateWindow||null,this.annotations_=[],e.innerHTML="";const i=window.getComputedStyle(e,null);(i.paddingLeft!=="0px"||i.paddingRight!=="0px"||i.paddingTop!=="0px"||i.paddingBottom!=="0px")&&console.error("Main div contains padding; graph will misbehave"),e.style.width===""&&a.width&&(e.style.width=a.width+"px"),e.style.height===""&&a.height&&(e.style.height=a.height+"px"),e.style.height===""&&e.clientHeight===0&&(e.style.height=v.DEFAULT_HEIGHT+"px",e.style.width===""&&(e.style.width=v.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||a.width||0,this.height_=e.clientHeight||a.height||0,a.stackedGraph&&(a.fillGraph=!0),this.user_attrs_={},j(this.user_attrs_,a),this.attrs_={},st(this.attrs_,Be),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new G(this),this.createInterface_(),this.plugins_=[];for(var r=v.PLUGINS.concat(this.getOption("plugins")),n=0;n<r.length;n++){var s=r[n],l;typeof s.activate<"u"?l=s:l=new s;var o={plugin:l,events:{},options:{},pluginOptions:{}},h=l.activate(this);for(var u in h)h.hasOwnProperty(u)&&(o.events[u]=h[u]);this.plugins_.push(o)}for(var n=0;n<this.plugins_.length;n++){var d=this.plugins_[n];for(var u in d.events)if(d.events.hasOwnProperty(u)){var c=d.events[u],f=[d.plugin,c];u in this.eventListeners_?this.eventListeners_[u].push(f):this.eventListeners_[u]=[f]}}this.createDragInterface_(),this.start_()};v.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var a={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!a.cancelable)throw"Cannot call preventDefault on non-cancelable event.";a.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){a.propagationStopped=!0}};j(a,t);var i=this.eventListeners_[e];if(i)for(var r=i.length-1;r>=0;r--){var n=i[r][0],s=i[r][1];if(s.call(n,a),a.propagationStopped)break}return a.defaultPrevented};v.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var a=this.plugins_[t];if(a.plugin instanceof e)return a.plugin}return null};v.prototype.isZoomed=function(e){const t=!!this.dateWindow_;if(e==="x")return t;const a=this.axes_.map(i=>!!i.valueRange).indexOf(!0)>=0;if(e==null)return t||a;if(e==="y")return a;throw new Error(`axis parameter is [${e}] must be null, 'x' or 'y'.`)};v.prototype.toString=function(){var e=this.maindiv_,t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"};v.prototype.attr_=function(e,t){return typeof process<"u",t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)};v.prototype.getOption=function(e,t){return this.attr_(e,t)};v.prototype.getNumericOption=function(e,t){return this.getOption(e,t)};v.prototype.getStringOption=function(e,t){return this.getOption(e,t)};v.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)};v.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)};v.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)};v.prototype.optionsViewForAxis_=function(e){var t=this;return function(a){var i=t.user_attrs_.axes;return i&&i[e]&&i[e].hasOwnProperty(a)?i[e][a]:e==="x"&&a==="logscale"?!1:typeof t.user_attrs_[a]<"u"?t.user_attrs_[a]:(i=t.attrs_.axes,i&&i[e]&&i[e].hasOwnProperty(a)?i[e][a]:e=="y"&&t.axes_[0].hasOwnProperty(a)?t.axes_[0][a]:e=="y2"&&t.axes_[1].hasOwnProperty(a)?t.axes_[1][a]:t.attr_(a))}};v.prototype.rollPeriod=function(){return this.rollPeriod_};v.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};v.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(this.numRows()===0)return[0-e,1+e];var t=this.rawData_[0][0],a=this.rawData_[this.rawData_.length-1][0];if(e){var i=a-t;t-=i*e,a+=i*e}return[t,a]};v.prototype.yAxisExtremes=function(){const e=this.gatherDatasets_(this.rolledSeries_,null),{extremes:t}=e,a=this.axes_;this.computeYAxisRanges_(t);const i=this.axes_;return this.axes_=a,i.map(r=>r.extremeRange)};v.prototype.yAxisRange=function(e){if(typeof e>"u"&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]};v.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e};v.prototype.toDomCoords=function(e,t,a){return[this.toDomXCoord(e),this.toDomYCoord(t,a)]};v.prototype.toDomXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();return t.x+(e-a[0])/(a[1]-a[0])*t.w};v.prototype.toDomYCoord=function(e,t){var a=this.toPercentYCoord(e,t);if(a===null)return null;var i=this.plotter_.area;return i.y+a*i.h};v.prototype.toDataCoords=function(e,t,a){return[this.toDataXCoord(e),this.toDataYCoord(t,a)]};v.prototype.toDataXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var i=(e-t.x)/t.w;return Pe(a[0],a[1],i)}else return a[0]+(e-t.x)/t.w*(a[1]-a[0])};v.prototype.toDataYCoord=function(e,t){if(e===null)return null;var a=this.plotter_.area,i=this.yAxisRange(t);if(typeof t>"u"&&(t=0),this.attributes_.getForAxis("logscale",t)){var r=(e-a.y)/a.h;return Pe(i[1],i[0],r)}else return i[0]+(a.y+a.h-e)/a.h*(i[1]-i[0])};v.prototype.toPercentYCoord=function(e,t){if(e===null)return null;typeof t>"u"&&(t=0);var a=this.yAxisRange(t),i,r=this.attributes_.getForAxis("logscale",t);if(r){var n=H(a[0]),s=H(a[1]);i=(s-H(e))/(s-n)}else i=(a[1]-e)/(a[1]-a[0]);return i};v.prototype.toPercentXCoord=function(e){if(e===null)return null;var t=this.xAxisRange(),a,i=this.attributes_.getForAxis("logscale","x");if(i===!0){var r=H(t[0]),n=H(t[1]);a=(H(e)-r)/(n-r)}else a=(e-t[0])/(t[1]-t[0]);return a};v.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0};v.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0};v.prototype.getValue=function(e,t){return e<0||e>=this.rawData_.length||t<0||t>=this.rawData_[e].length?null:this.rawData_[e][t]};v.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=We(),this.canvas_.style.position="absolute",this.canvas_.style.top=0,this.canvas_.style.left=0,this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=Ie(this.canvas_),this.hidden_ctx_=Ie(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new V(this);var t=this;if(this.mouseMoveHandler_=function(i){t.mouseMove_(i)},this.mouseOutHandler_=function(i){var r=i.target||i.fromElement,n=i.relatedTarget||i.toElement;gt(r,t.graphDiv)&&!gt(n,t.graphDiv)&&t.mouseOut_(i)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),!this.resizeHandler_){this.resizeHandler_=function(i){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_),this.resizeObserver_=null;var a=this.getStringOption("resizable");typeof ResizeObserver>"u"&&a!=="no"&&(console.error("ResizeObserver unavailable; ignoring resizable property"),a="no"),a==="horizontal"||a==="vertical"||a==="both"?e.style.resize=a:a!=="passive"&&(a="no"),a!=="no"&&(window.getComputedStyle(e).overflow,window.getComputedStyle(e).overflow==="visible"&&(e.style.overflow="hidden"),this.resizeObserver_=new ResizeObserver(this.resizeHandler_),this.resizeObserver_.observe(e))}};v.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||et(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",t!==1&&this.canvas_ctx_.scale(t,t);var a=e||et(this.hidden_ctx_);this.hidden_.width=this.width_*a,this.hidden_.height=this.height_*a,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",a!==1&&this.hidden_ctx_.scale(a,a)};v.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}var a=function(r){for(;r.hasChildNodes();)a(r.firstChild),r.removeChild(r.firstChild)};this.removeTrackedEvents_(),J(window,"mouseout",this.mouseOutHandler_),J(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null),J(window,"resize",this.resizeHandler_),this.resizeHandler_=null,a(this.maindiv_);var i=function(n){for(var s in n)typeof n[s]=="object"&&(n[s]=null)};i(this.layout_),i(this.plotter_),i(this)};v.prototype.createPlotKitCanvas_=function(e){var t=We();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t};v.prototype.createMouseEventElement_=function(){return this.canvas_};v.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var a=this.getNumericOption("colorSaturation")||1,i=this.getNumericOption("colorValue")||.5,r=Math.ceil(t/2),n=this.getOption("colors"),s=this.visibility(),l=0;l<t;l++)if(s[l]){var o=e[l+1],h=this.attributes_.getForSeries("color",o);if(!h)if(n)h=n[l%n.length];else{var u=l%2?r+(l+1)/2:Math.ceil((l+1)/2),d=1*u/(1+t);h=aa(d,a,i)}this.colors_.push(h),this.colorsMap_[o]=h}};v.prototype.getColors=function(){return this.colors_};v.prototype.getPropertiesForSeries=function(e){for(var t=-1,a=this.getLabels(),i=1;i<a.length;i++)if(a[i]==e){t=i;break}return t==-1?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}};v.prototype.createRollInterface_=function(){var e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var t=this.getBooleanOption("showRoller")?"block":"none",a=this.getArea(),i={top:a.y+a.h-25+"px",left:a.x+1+"px",display:t};e.size="2",e.value=this.rollPeriod_,j(e.style,i);const r=this;e.onchange=function(){return r.adjustRoll(e.value)}};v.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Ue,initializeMouseDown:function(s,l,o){s.preventDefault?s.preventDefault():(s.returnValue=!1,s.cancelBubble=!0);var h=Ae(l.canvas_);o.px=h.x,o.py=h.y,o.dragStartX=Xe(s,o),o.dragStartY=Ge(s,o),o.cancelNextDblclick=!1,o.tarp.cover()},destroy:function(){var s=this;if((s.isZooming||s.isPanning)&&(s.isZooming=!1,s.dragStartX=null,s.dragStartY=null),s.isPanning){s.isPanning=!1,s.draggingDate=null,s.dateRange=null;for(var l=0;l<a.axes_.length;l++)delete a.axes_[l].draggingValue,delete a.axes_[l].dragValueRange}s.tarp.uncover()}},t=this.getOption("interactionModel"),a=this,i=function(s){return function(l){s(l,a,e)}};for(var r in t)t.hasOwnProperty(r)&&this.addAndTrackEvent(this.mouseEventElement_,r,i(t[r]));if(!t.willDestroyContextMyself){var n=function(s){e.destroy()};this.addAndTrackEvent(document,"mouseup",n)}};v.prototype.drawZoomRect_=function(e,t,a,i,r,n,s,l){var o=this.canvas_ctx_;n==Me?o.clearRect(Math.min(t,s),this.layout_.getPlotArea().y,Math.abs(t-s),this.layout_.getPlotArea().h):n==Fe&&o.clearRect(this.layout_.getPlotArea().x,Math.min(i,l),this.layout_.getPlotArea().w,Math.abs(i-l)),e==Me?a&&t&&(o.fillStyle="rgba(128,128,128,0.33)",o.fillRect(Math.min(t,a),this.layout_.getPlotArea().y,Math.abs(a-t),this.layout_.getPlotArea().h)):e==Fe&&r&&i&&(o.fillStyle="rgba(128,128,128,0.33)",o.fillRect(this.layout_.getPlotArea().x,Math.min(i,r),this.layout_.getPlotArea().w,Math.abs(r-i)))};v.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)};v.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var a=this.toDataXCoord(e),i=this.toDataXCoord(t);this.doZoomXDates_(a,i)};v.prototype.doZoomXDates_=function(e,t){var a=this.xAxisRange(),i=[e,t];const r=this.getFunctionOption("zoomCallback"),n=this;this.doAnimatedZoom(a,i,null,null,function(){r&&r.call(n,e,t,n.yAxisRanges())})};v.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;for(var a=this.yAxisRanges(),i=[],r=0;r<this.axes_.length;r++){var n=this.toDataYCoord(e,r),s=this.toDataYCoord(t,r);i.push([s,n])}const l=this.getFunctionOption("zoomCallback"),o=this;this.doAnimatedZoom(null,null,a,i,function(){if(l){const[u,d]=o.xAxisRange();l.call(o,u,d,o.yAxisRanges())}})};v.zoomAnimationFunction=function(e,t){var a=1.5;return(1-Math.pow(a,-e))/(1-Math.pow(a,-t))};v.prototype.resetZoom=function(){const e=this.isZoomed("x"),t=this.isZoomed("y"),a=e||t;if(this.clearSelection(),!a)return;const[i,r]=this.xAxisExtremes(),n=this.getBooleanOption("animatedZooms"),s=this.getFunctionOption("zoomCallback");if(!n){this.dateWindow_=null,this.axes_.forEach(c=>{c.valueRange&&delete c.valueRange}),this.drawGraph_(),s&&s.call(this,i,r,this.yAxisRanges());return}var l=null,o=null,h=null,u=null;e&&(l=this.xAxisRange(),o=[i,r]),t&&(h=this.yAxisRanges(),u=this.yAxisExtremes());const d=this;this.doAnimatedZoom(l,o,h,u,function(){d.dateWindow_=null,d.axes_.forEach(f=>{f.valueRange&&delete f.valueRange}),s&&s.call(d,i,r,d.yAxisRanges())})};v.prototype.doAnimatedZoom=function(e,t,a,i,r){var n=this.getBooleanOption("animatedZooms")?v.ANIMATION_STEPS:1,s=[],l=[],o,h;if(e!==null&&t!==null)for(o=1;o<=n;o++)h=v.zoomAnimationFunction(o,n),s[o-1]=[e[0]*(1-h)+h*t[0],e[1]*(1-h)+h*t[1]];if(a!==null&&i!==null)for(o=1;o<=n;o++){h=v.zoomAnimationFunction(o,n);for(var u=[],d=0;d<this.axes_.length;d++)u.push([a[d][0]*(1-h)+h*i[d][0],a[d][1]*(1-h)+h*i[d][1]]);l[o-1]=u}const c=this;Rt(function(f){if(l.length)for(var g=0;g<c.axes_.length;g++){var p=l[f][g];c.axes_[g].valueRange=[p[0],p[1]]}s.length&&(c.dateWindow_=s[f]),c.drawGraph_()},n,v.ANIMATION_DURATION/n,r)};v.prototype.getArea=function(){return this.plotter_.area};v.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=Ae(this.mouseEventElement_),a=ze(e)-t.x,i=Ve(e)-t.y;return[a,i]};v.prototype.findClosestRow=function(e){for(var t=1/0,a=-1,i=this.layout_.points,r=0;r<i.length;r++)for(var n=i[r],s=n.length,l=0;l<s;l++){var o=n[l];if(be(o,!0)){var h=Math.abs(o.canvasx-e);h<t&&(t=h,a=o.idx)}}return a};v.prototype.findClosestPoint=function(e,t){for(var a=1/0,i,r,n,s,l,o,h,u=this.layout_.points.length-1;u>=0;--u)for(var d=this.layout_.points[u],c=0;c<d.length;++c)s=d[c],be(s)&&(r=s.canvasx-e,n=s.canvasy-t,i=r*r+n*n,i<a&&(a=i,l=s,o=u,h=s.idx));var f=this.layout_.setNames[o];return{row:h,seriesName:f,point:l}};v.prototype.findStackedPoint=function(e,t){for(var a=this.findClosestRow(e),i,r,n=0;n<this.layout_.points.length;++n){var s=this.getLeftBoundary_(n),l=a-s,o=this.layout_.points[n];if(!(l>=o.length)){var h=o[l];if(be(h)){var u=h.canvasy;if(e>h.canvasx&&l+1<o.length){var d=o[l+1];if(be(d)){var c=d.canvasx-h.canvasx;if(c>0){var f=(e-h.canvasx)/c;u+=f*(d.canvasy-h.canvasy)}}}else if(e<h.canvasx&&l>0){var g=o[l-1];if(be(g)){var c=h.canvasx-g.canvasx;if(c>0){var f=(h.canvasx-e)/c;u+=f*(g.canvasy-h.canvasy)}}}(n===0||u<t)&&(i=h,r=n)}}}var p=this.layout_.setNames[r];return{row:a,seriesName:p,point:i}};v.prototype.mouseMove_=function(e){var t=this.layout_.points;if(t!=null){var a=this.eventToDomCoords(e),i=a[0],r=a[1],n=this.getOption("highlightSeriesOpts"),s=!1;if(n&&!this.isSeriesLocked()){var l;this.getBooleanOption("stackedGraph")?l=this.findStackedPoint(i,r):l=this.findClosestPoint(i,r),s=this.setSelection(l.row,l.seriesName)}else{var o=this.findClosestRow(i);s=this.setSelection(o)}var h=this.getFunctionOption("highlightCallback");h&&s&&h.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};v.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(this.boundaryIds_[t]!==void 0)return this.boundaryIds_[t][0];return 0};v.prototype.animateSelection_=function(e){var t=10,a=30;this.fadeLevel===void 0&&(this.fadeLevel=0),this.animateId===void 0&&(this.animateId=0);var i=this.fadeLevel,r=e<0?i:t-i;if(r<=0){this.fadeLevel&&this.updateSelection_(1);return}var n=++this.animateId,s=this,l=function(){s.fadeLevel!==0&&e<0&&(s.fadeLevel=0,s.clearSelection())};Rt(function(o){s.animateId==n&&(s.fadeLevel+=e,s.fadeLevel===0?s.clearSelection():s.updateSelection_(s.fadeLevel/t))},r,a,l)};v.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:this.lastRow_===-1?void 0:this.lastRow_,selectedX:this.lastx_===null?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,a=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){a.clearRect(0,0,this.width_,this.height_);var i=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),r=Ye(this.getOption("highlightSeriesBackgroundColor"));if(i){var n=this.getBooleanOption("animateBackgroundFade");if(n){if(e===void 0){this.animateSelection_(1);return}i*=e}a.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+i+")",a.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,a)}else if(this.previousVerticalX_>=0){var s=0,l=this.attr_("labels");for(t=1;t<l.length;t++){var o=this.getNumericOption("highlightCircleSize",l[t]);o>s&&(s=o)}var h=this.previousVerticalX_;a.clearRect(h-s-1,0,2*s+2,this.height_)}if(this.selPoints_.length>0){var u=this.selPoints_[0].canvasx;for(a.save(),t=0;t<this.selPoints_.length;t++){var d=this.selPoints_[t];if(!isNaN(d.canvasy)){var c=this.getNumericOption("highlightCircleSize",d.name),f=this.getFunctionOption("drawHighlightPointCallback",d.name),g=this.plotter_.colors[d.name];f||(f=lt.DEFAULT),a.lineWidth=this.getNumericOption("strokeWidth",d.name),a.strokeStyle=g,a.fillStyle=g,f.call(this,this,d.name,a,u,d.canvasy,g,c,d.idx)}}a.restore(),this.previousVerticalX_=u}};v.prototype.setSelection=function(t,a,i,r){this.selPoints_=[];var n=!1;if(t!==!1&&t>=0){t!=this.lastRow_&&(n=!0),this.lastRow_=t;for(var s=0;s<this.layout_.points.length;++s){var l=this.layout_.points[s],o=t-this.getLeftBoundary_(s);if(o>=0&&o<l.length&&l[o].idx==t){var h=l[o];h.yval!==null&&this.selPoints_.push(h)}else for(var u=0;u<l.length;++u){var h=l[u];if(h.idx==t){h.yval!==null&&this.selPoints_.push(h);break}}}}else this.lastRow_>=0&&(n=!0),this.lastRow_=-1;if(this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=null,a!==void 0&&(this.highlightSet_!==a&&(n=!0),this.highlightSet_=a),i!==void 0&&(this.lockedSet_=i),n&&(this.updateSelection_(void 0),r)){var d=this.getFunctionOption("highlightCallback");if(d){var c={};d.call(this,c,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}}return n};v.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()};v.prototype.clearSelection=function(){if(this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=null,this.lastRow_=-1,this.highlightSet_=null};v.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],a=0;a<t.length;a++)if(t[a].x==this.selPoints_[0].x)return t[a].idx;return-1};v.prototype.getHighlightSeries=function(){return this.highlightSet_};v.prototype.isSeriesLocked=function(){return this.lockedSet_};v.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()};v.prototype.addXTicks_=function(){var e;this.dateWindow_?e=[this.dateWindow_[0],this.dateWindow_[1]]:e=this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),a=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(a)};v.prototype.getHandlerClass_=function(){var e;return this.attr_("dataHandler")?e=this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?e=Oe:e=Le:this.getBooleanOption("customBars")?e=De:this.getBooleanOption("errorBars")?e=Ce:e=de,e};v.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new M(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var a=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(a=this.dataHandler_.rollingAverage(a,this.rollPeriod_,this.attributes_,t)),this.rolledSeries_.push(a)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-e};v.PointType=void 0;v.stackPoints_=function(e,t,a,i){for(var r=null,n=null,s=null,l=-1,o=function(g){if(!(l>=g)){for(var p=g;p<e.length;++p)if(s=null,!isNaN(e[p].yval)&&e[p].yval!==null){l=p,s=e[p];break}}},h=0;h<e.length;++h){var u=e[h],d=u.xval;t[d]===void 0&&(t[d]=0);var c=u.yval;isNaN(c)||c===null?i=="none"?c=0:(o(h),n&&s&&i!="none"?c=n.yval+(s.yval-n.yval)*((d-n.xval)/(s.xval-n.xval)):n&&i=="all"?c=n.yval:s&&i=="all"?c=s.yval:c=0):n=u;var f=t[d];r!=d&&(f+=c,t[d]=f),r=d,u.yval_stacked=f,f>a[1]&&(a[1]=f),f<a[0]&&(a[0]=f)}};v.prototype.gatherDatasets_=function(e,t){var a=[],i=[],r=[],n={},s,l,o,h,u,d=e.length-1,c;for(s=d;s>=1;s--)if(this.visibility()[s-1]){if(t){c=e[s];var f=t[0],g=t[1];for(o=null,h=null,l=0;l<c.length;l++)c[l][0]>=f&&o===null&&(o=l),c[l][0]<=g&&(h=l);o===null&&(o=0);for(var p=o,y=!0;y&&p>0;)p--,y=c[p][1]===null;h===null&&(h=c.length-1);var _=h;for(y=!0;y&&_<c.length-1;)_++,y=c[_][1]===null;p!==o&&(o=p),_!==h&&(h=_),a[s-1]=[o,h],c=c.slice(o,h+1)}else c=e[s],a[s-1]=[0,c.length-1];var b=this.attr_("labels")[s],w=this.dataHandler_.getExtremeYValues(c,t,this.getBooleanOption("stepPlot",b)),x=this.dataHandler_.seriesToPoints(c,b,a[s-1][0]);this.getBooleanOption("stackedGraph")&&(u=this.attributes_.axisForSeries(b),r[u]===void 0&&(r[u]=[]),v.stackPoints_(x,r[u],w,this.getBooleanOption("stackedGraphNaNFill"))),n[b]=w,i[s]=x}return{points:i,extremes:n,boundaryIds:a}};v.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var a=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),i=a.points,r=a.extremes;this.boundaryIds_=a.boundaryIds,this.setIndexByName_={};for(var n=this.attr_("labels"),s=0,l=1;l<i.length;l++)this.visibility()[l-1]&&(this.layout_.addDataset(n[l],i[l]),this.datasetIndex_[l]=s++);for(var l=0;l<n.length;l++)this.setIndexByName_[n[l]]=l;if(this.computeYAxisRanges_(r),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var o=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(o-e)+"ms")}};v.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();const t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var a={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",a),this.plotter_.render(),this.cascadeEvents_("didDrawChart",a),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);const i=this.getFunctionOption("drawCallback");if(i!==null&&i.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;){var r=this.readyFns_.pop();r(this)}};v.prototype.computeYAxes_=function(){var e,t,a;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)t={g:this},j(t,this.attributes_.axisOptions(e)),this.axes_[e]=t;for(e=0;e<this.axes_.length;e++)if(e===0)t=this.optionsViewForAxis_("y"+(e?"2":"")),a=t("valueRange"),a&&(this.axes_[e].valueRange=a);else{var i=this.user_attrs_.axes;i&&i.y2&&(a=i.y2.valueRange,a&&(this.axes_[e].valueRange=a))}};v.prototype.numAxes=function(){return this.attributes_.numAxes()};v.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]};v.prototype.computeYAxisRanges_=function(e){for(var t=function(Q){return isNaN(parseFloat(Q))},a=this.attributes_.numAxes(),i,r,n,s,l,o=0;o<a;o++){var h=this.axes_[o],u=this.attributes_.getForAxis("logscale",o),d=this.attributes_.getForAxis("includeZero",o),c=this.attributes_.getForAxis("independentTicks",o);n=this.attributes_.seriesForAxis(o),i=!0,s=.1;const Q=this.getNumericOption("yRangePad");if(Q!==null&&(i=!1,s=Q/this.plotter_.area.h),n.length===0)h.extremeRange=[0,1];else{for(var f=1/0,g=-1/0,p,y,_=0;_<n.length;_++)e.hasOwnProperty(n[_])&&(p=e[n[_]][0],p!==null&&(f=Math.min(p,f)),y=e[n[_]][1],y!==null&&(g=Math.max(y,g)));d&&!u&&(f>0&&(f=0),g<0&&(g=0)),f==1/0&&(f=0),g==-1/0&&(g=1),r=g-f,r===0&&(g!==0?r=Math.abs(g):(g=1,r=1));var b=g,w=f;i&&(u?(b=g+s*r,w=f):(b=g+s*r,w=f-s*r,w<0&&f>=0&&(w=0),b>0&&g<=0&&(b=0))),h.extremeRange=[w,b]}if(h.valueRange){var x=t(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],D=t(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[x,D]}else h.computedValueRange=h.extremeRange;if(!i){if(x=h.computedValueRange[0],D=h.computedValueRange[1],x===D)if(x===0)D=1;else{var I=Math.abs(x/10);x-=I,D+=I}if(u){var A=s/(2*s-1),T=(s-1)/(2*s-1);h.computedValueRange[0]=Pe(x,D,A),h.computedValueRange[1]=Pe(x,D,T)}else r=D-x,h.computedValueRange[0]=x-r*s,h.computedValueRange[1]=D+r*s}if(c){h.independentTicks=c;var S=this.optionsViewForAxis_("y"+(o?"2":"")),m=S("ticker");h.ticks=m(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,S,this),l||(l=h)}}if(l===void 0)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var o=0;o<a;o++){var h=this.axes_[o];if(!h.independentTicks){for(var S=this.optionsViewForAxis_("y"+(o?"2":"")),m=S("ticker"),C=l.ticks,R=l.computedValueRange[1]-l.computedValueRange[0],Z=h.computedValueRange[1]-h.computedValueRange[0],se=[],q=0;q<C.length;q++){var F=(C[q].v-l.computedValueRange[0])/R,ue=h.computedValueRange[0]+F*Z;se.push(ue)}h.ticks=m(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,S,this,se)}}};v.prototype.detectTypeFromString_=function(e){var t=!1,a=e.indexOf("-");(a>0&&e[a-1]!="e"&&e[a-1]!="E"||e.indexOf("/")>=0||isNaN(parseFloat(e)))&&(t=!0),this.setXAxisOptions_(t)};v.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=Ot,this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=xe,this.attrs_.axes.x.axisLabelFormatter=Te):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=he,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)};v.prototype.parseCSV_=function(e){var t=[],a=Pt(e),i=e.split(a||`
`),r,n,s=this.getStringOption("delimiter");i[0].indexOf(s)==-1&&i[0].indexOf("	")>=0&&(s="	");var l=0;"labels"in this.user_attrs_||(l=1,this.attrs_.labels=i[0].split(s),this.attributes_.reparseSeries());for(var o,h=!1,u=this.attr_("labels").length,d=!1,c=l;c<i.length;c++){var f=i[c];if(f.length!==0&&f[0]!="#"){var g=f.split(s);if(!(g.length<2)){var p=[];if(h||(this.detectTypeFromString_(g[0]),o=this.getFunctionOption("xValueParser"),h=!0),p[0]=o(g[0],this),this.fractions_)for(n=1;n<g.length;n++)r=g[n].split("/"),r.length!=2?(console.error(`Expected fractional "num/den" values in CSV data but found a value '`+g[n]+"' on line "+(1+c)+" ('"+f+"') which is not of this form."),p[n]=[0,0]):p[n]=[ie(r[0],c,f),ie(r[1],c,f)];else if(this.getBooleanOption("errorBars"))for(g.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+c)+" has an odd number of values ("+(g.length-1)+"): '"+f+"'"),n=1;n<g.length;n+=2)p[(n+1)/2]=[ie(g[n],c,f),ie(g[n+1],c,f)];else if(this.getBooleanOption("customBars"))for(n=1;n<g.length;n++){var y=g[n];/^ *$/.test(y)?p[n]=[null,null,null]:(r=y.split(";"),r.length==3?p[n]=[ie(r[0],c,f),ie(r[1],c,f),ie(r[2],c,f)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+y+'" on line '+(1+c)+")"))}else for(n=1;n<g.length;n++)p[n]=ie(g[n],c,f);if(t.length>0&&p[0]<t[t.length-1][0]&&(d=!0),p.length!=u&&console.error("Number of columns in line "+c+" ("+p.length+") does not agree with number of labels ("+u+") "+f),c===0&&this.attr_("labels")){var _=!0;for(n=0;_&&n<p.length;n++)p[n]&&(_=!1);if(_){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+f+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(p)}}}return d&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(b,w){return b[0]-w[0]})),t};function xa(e){const t=e[0],a=t[0];if(typeof a!="number"&&!Et(a))throw new Error(`Expected number or date but got ${typeof a}: ${a}.`);for(let i=1;i<t.length;i++){const r=t[i];if(r!=null&&typeof r!="number"&&!Se(r))throw new Error(`Expected number or array but got ${typeof r}: ${r}.`)}}v.prototype.parseArray_=function(e){if(e.length===0&&(e=[[0]]),e[0].length===0)return console.error("Data set cannot contain an empty row"),null;xa(e);var t;if(this.attr_("labels")===null){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var a=this.attr_("labels");if(a.length!=e[0].length)return console.error("Mismatch between number of labels ("+a+") and number of columns in array ("+e[0].length+")"),null}if(Et(e[0][0])){this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=xe,this.attrs_.axes.x.axisLabelFormatter=Te;var i=Nt(e);for(t=0;t<e.length;t++){if(i[t].length===0)return console.error("Row "+(1+t)+" of data is empty"),null;if(i[t][0]===null||typeof i[t][0].getTime!="function"||isNaN(i[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;i[t][0]=i[t][0].getTime()}return i}else return this.attrs_.axes.x.valueFormatter=function(r){return r},this.attrs_.axes.x.ticker=he,this.attrs_.axes.x.axisLabelFormatter=at,e};v.prototype.parseDataTable_=function(e){var t=function(x){var D=String.fromCharCode(65+x%26);for(x=Math.floor(x/26);x>0;)D=String.fromCharCode(65+(x-1)%26)+D.toLowerCase(),x=Math.floor((x-1)/26);return D},a=e.getNumberOfColumns(),i=e.getNumberOfRows(),r=e.getColumnType(0);if(r=="date"||r=="datetime")this.attrs_.xValueParser=Ot,this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=xe,this.attrs_.axes.x.axisLabelFormatter=Te;else if(r=="number")this.attrs_.xValueParser=function(x){return parseFloat(x)},this.attrs_.axes.x.valueFormatter=function(x){return x},this.attrs_.axes.x.ticker=he,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter;else throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+r+"')");var n=[],s={},l=!1,o,h;for(o=1;o<a;o++){var u=e.getColumnType(o);if(u=="number")n.push(o);else if(u=="string"&&this.getBooleanOption("displayAnnotations")){var d=n[n.length-1];s.hasOwnProperty(d)?s[d].push(o):s[d]=[o],l=!0}else throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var c=[e.getColumnLabel(0)];for(o=0;o<n.length;o++)c.push(e.getColumnLabel(n[o])),this.getBooleanOption("errorBars")&&(o+=1);this.attrs_.labels=c,a=c.length;var f=[],g=!1,p=[];for(o=0;o<i;o++){var y=[];if(typeof e.getValue(o,0)>"u"||e.getValue(o,0)===null){console.warn("Ignoring row "+o+" of DataTable because of undefined or null first column.");continue}if(r=="date"||r=="datetime"?y.push(e.getValue(o,0).getTime()):y.push(e.getValue(o,0)),this.getBooleanOption("errorBars"))for(h=0;h<a-1;h++)y.push([e.getValue(o,1+2*h),e.getValue(o,2+2*h)]);else{for(h=0;h<n.length;h++){var _=n[h];if(y.push(e.getValue(o,_)),l&&s.hasOwnProperty(_)&&e.getValue(o,s[_][0])!==null){var b={};b.series=e.getColumnLabel(_),b.xval=y[0],b.shortText=t(p.length),b.text="";for(var w=0;w<s[_].length;w++)w&&(b.text+=`
`),b.text+=e.getValue(o,s[_][w]);p.push(b)}}for(h=0;h<y.length;h++)isFinite(y[h])||(y[h]=null)}f.length>0&&y[0]<f[f.length-1][0]&&(g=!0),f.push(y)}g&&(console.warn("DataTable is out of order; order it correctly to speed loading."),f.sort(function(x,D){return x[0]-D[0]})),this.rawData_=f,p.length>0&&this.setAnnotations(p,!0),this.attributes_.reparseSeries()};v.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})};v.prototype.start_=function(){var e=this.file_;typeof e=="function"&&(e=e());const t=na(e);if(t=="array")this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(t=="object"&&typeof e.getColumnRange=="function")this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(t=="string"){var a=Pt(e);if(a)this.loadedEvent_(e);else{var i;window.XMLHttpRequest?i=new XMLHttpRequest:i=new ActiveXObject("Microsoft.XMLHTTP");var r=this;i.onreadystatechange=function(){i.readyState==4&&(i.status===200||i.status===0)&&r.loadedEvent_(i.responseText)},i.open("GET",e,!0),i.send(null)}}else console.error("Unknown data format: "+t)};v.prototype.updateOptions=function(e,t){typeof t>"u"&&(t=!1);var a=e.file,i=v.copyUserAttrs_(e),r=this.attributes_.numAxes();"rollPeriod"in i&&(this.rollPeriod_=i.rollPeriod),"dateWindow"in i&&(this.dateWindow_=i.dateWindow);var n=oa(this.attr_("labels"),i);st(this.user_attrs_,i),this.attributes_.reparseSeries(),r<this.attributes_.numAxes()&&this.plotter_.clear(),a?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=a,t||this.start_()):t||(n?this.predraw_():this.renderGraph_(!1))};v.copyUserAttrs_=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&a!="file"&&e.hasOwnProperty(a)&&(t[a]=e[a]);return t};v.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,e===null!=(t===null)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var a=this.width_,i=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(a!=this.width_||i!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}};v.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()};v.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")};v.prototype.setVisibility=function(e,t){var a=this.visibility(),i=!1;if(Array.isArray(e)||(e!==null&&typeof e=="object"?i=!0:e=[e]),i)for(var r in e)e.hasOwnProperty(r)&&(r<0||r>=a.length?console.warn("Invalid series number in setVisibility: "+r):a[r]=e[r]);else for(var r=0;r<e.length;r++)typeof e[r]=="boolean"?r>=a.length?console.warn("Invalid series number in setVisibility: "+r):a[r]=e[r]:e[r]<0||e[r]>=a.length?console.warn("Invalid series number in setVisibility: "+e[r]):a[e[r]]=t;this.predraw_()};v.prototype.size=function(){return{width:this.width_,height:this.height_}};v.prototype.setAnnotations=function(e,t){if(this.annotations_=e,!this.layout_){console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_),t||this.predraw_()};v.prototype.annotations=function(){return this.annotations_};v.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null};v.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]};v.prototype.getRowForX=function(e){for(var t=0,a=this.numRows()-1;t<=a;){var i=a+t>>1,r=this.getValue(i,0);if(r<e)t=i+1;else if(r>e)a=i-1;else if(t!=i)a=i;else return i}return null};v.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)};v.prototype.addAndTrackEvent=function(e,t,a){ye(e,t,a),this.registeredEvents_.push({elem:e,type:t,fn:a})};v.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];J(t.elem,t.type,t.fn)}this.registeredEvents_=[]};v.PLUGINS=[U,ne,W,te,re,ge];v.GVizChart=$e;v.DASHED_LINE=ea;v.DOT_DASH_LINE=ta;v.dateAxisLabelFormatter=Te;v.toRGB_=Ye;v.findPos=Ae;v.pageX=ze;v.pageY=Ve;v.dateString_=Lt;v.defaultInteractionModel=O.defaultModel;v.nonInteractiveModel=v.nonInteractiveModel_=O.nonInteractiveModel_;v.Circles=lt;v.Plugins={Legend:U,Axes:ne,Annotations:re,ChartLabels:te,Grid:ge,RangeSelector:W};v.DataHandlers={DefaultHandler:de,BarsHandler:ee,CustomBarsHandler:De,DefaultFractionHandler:Le,ErrorBarsHandler:Ce,FractionsBarsHandler:Oe};v.startPan=O.startPan;v.startZoom=O.startZoom;v.movePan=O.movePan;v.moveZoom=O.moveZoom;v.endPan=O.endPan;v.endZoom=O.endZoom;v.numericLinearTicks=qt;v.numericTicks=he;v.dateTicker=xe;v.Granularity=E;v.getDateAxis=Ct;v.floatFormat=Dt;va(v);const Aa=["data-bs-content"],Sa={key:0,class:"badge text-bg-critical me-1",title:"Unable to connect to Postgres"},Ta={key:1,class:"badge text-bg-critical me-1"},Ca={key:2,class:"badge text-bg-warning me-1"},Da={key:3,class:"badge text-bg-ok me-1"},La={__name:"Checks",props:["instance"],setup(e){const t=e,a=we(()=>t.instance.available),i=we(()=>oe.countBy(t.instance.checks.map(n=>n.state)));function r(n){const s=n.checks.filter(u=>!["OK","UNDEF"].includes(u.state)),l=["CRITICAL","WARNING"];return oe.sortBy(s,u=>l.indexOf(u.state)).map(u=>`<span class="badge text-bg-${u.state.toLowerCase()}">${u.description}</span>`).join("<br>")}return(n,s)=>(B(),z("div",{class:"d-inline-block","data-bs-toggle":"popover","data-bs-content":r(t.instance),"data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-container":"body","data-bs-html":"true"},[a.value?Y("",!0):(B(),z("span",Sa,"UNAVAILABLE")),k(),i.value.CRITICAL?(B(),z("span",Ta," CRITICAL: "+$(i.value.CRITICAL),1)):Y("",!0),k(),i.value.WARNING?(B(),z("span",Ca," WARNING: "+$(i.value.WARNING),1)):Y("",!0),k(),!i.value.WARNING&&!i.value.CRITICAL&&!i.value.UNDEF&&i.value.OK?(B(),z("span",Da,"OK")):Y("",!0)],8,Aa))}},Oa=L("div",{style:{height:"100%","line-height":"30px"},class:"text-secondary align-bottom"},"No data",-1),Ea=[Oa],At={__name:"Sparkline",props:["data","start","end","colors"],emits:["chart-rendered"],setup(e,{emit:t}){const a=X(null),i=X(null),r=e;_e(()=>r.data,()=>{i.value?r.data?i.value.updateOptions({dateWindow:[r.start,r.end],file:r.data}):(i.value.destroy(),i.value=null):r.data&&(i.value=n());let l=null;i.value&&(l=i.value.getValue(i.value.numRows()-1,1)),s("chart-rendered",l)});function n(){const l={axes:{x:{drawAxis:!1,drawGrid:!1},y:{drawAxis:!1,drawGrid:!1}},dateWindow:[r.start,r.end],legend:"never",xValueParser:function(o){return ce(o).toDate().getTime()},highlightCircleSize:0,interactionModel:{},colors:r.colors};return new v(a.value,r.data,l)}const s=t;return(l,o)=>(B(),z("div",{ref_key:"root",ref:a},Ea,512))}},Na=e=>(Ht("data-v-6d2e4201"),e=e(),Wt(),e),ka={class:"card-body p-2",style:{"min-height":"150px"}},Ra={class:"row"},Pa={class:"col-md-12"},Ma={class:"mb-0 overflow-ellipsis"},Fa=Na(()=>L("i",{class:"fa fa-database"},null,-1)),Ia=["href","title"],Ha={class:"mb-0 small"},Wa=["title"],Ba={key:0,class:"row"},za={class:"col-md-6 mt-2 small text-center text-nowrap"},Va={key:0,class:"text-body-secondary"},Xa={key:1,class:"badge text-bg-secondary"},Ga={class:"col-md-6 mt-2 small text-center text-nowrap"},Ya={key:0,class:"text-body-secondary"},Za={key:1,class:"badge text-bg-secondary"},Ua={ref:"chart","data-bs-toggle":"tooltip","data-bs-title":"Load average (last hour)","data-bs-placement":"bottom"},$a={__name:"InstanceCard",props:["end","index","refreshInterval","start","status_value","instance"],setup(e,{expose:t}){const a=X(null),i=X("N/A"),r=X(null),n=X("N/A"),s=e,l=we(()=>["/server",s.instance.agent_address,s.instance.agent_port,"dashboard"].join("/")),o=we(()=>s.instance.plugins.indexOf("monitoring")!=-1);St(()=>{s.index>=18||(u(),h())}),_e(()=>s.index,g=>{g>=18&&(a.value=null,i.value=null,r.value=null,n.value=null)});function h(){d("load1").done(g=>{g&&(a.value=g)})}function u(){d("tps").done(g=>{g&&(r.value=g)})}function d(g){var p=["/server",s.instance.agent_address,s.instance.agent_port,"monitoring/data",g].join("/"),y="?start="+s.start.toISOString()+"&end="+s.end.toISOString();return Tt.get(p+y)}function c(g){i.value=g||"N/A"}function f(g){n.value=g||"N/A"}return t({fetchLoad1:h,fetchTPS:u}),(g,p)=>(B(),z("div",{class:me(["card",{"border-danger bg-danger-light":e.status_value>=1e6,"border-warning bg-warning-light":e.status_value>=1e3}])},[L("div",ka,[L("div",Ra,[L("div",Pa,[L("p",Ma,[L("strong",null,[Fa,k(),L("a",{href:l.value,title:e.instance.pg_version_summary+" listening on "+[e.instance.hostname,e.instance.pg_port].join(":"),class:"instance-link","data-bs-toggle":"tooltip"},$(e.instance.hostname)+":"+$(e.instance.pg_port),9,Ia)])]),k(),L("p",Ha,[L("span",{class:"badge border text-body-secondary me-1",title:"Instance in environment "+e.instance.environment},$(e.instance.environment),9,Wa),k(),L("span",{class:me(["pg_version",{"text-body-secondary":!e.instance.pg_version_summary}])},$(e.instance.pg_version_summary||"Unknown version"),3)]),k(),Re(La,{instance:e.instance},null,8,["instance"])])]),k(),o.value&&e.index<18?(B(),z("div",Ba,[L("div",za,[n.value?(B(),z("span",Va,"TPS: ")):Y("",!0),k(),n.value?(B(),z("span",Xa,$(n.value),1)):Y("",!0),k(),Re(At,{data:r.value,start:e.start,end:e.end,colors:["#50BD68","#F15854"],onChartRendered:f,ref:"tps_chart",class:"sparkline-container","data-bs-toggle":"tooltip","data-bs-title":"Transations / sec (last hour)","data-bs-container":"body","data-bs-placement":"bottom"},null,8,["data","start","end"])]),k(),L("div",Ga,[i.value?(B(),z("span",Ya,"Loadavg: ")):Y("",!0),k(),i.value?(B(),z("span",Za,$(i.value),1)):Y("",!0),k(),L("div",Ua,null,512),k(),Re(At,{data:a.value,start:e.start,end:e.end,colors:["#FAA43A"],onChartRendered:c,ref:"load1_chart",class:"sparkline-container","data-bs-toggle":"tooltip","data-bs-title":"Load average (last hour)","data-bs-placement":"bottom"},null,8,["data","start","end"])])])):Y("",!0)])],2))}},Ka=Kt($a,[["__scopeId","data-v-6d2e4201"]]),qa={class:"position-absolute",style:{"z-index":"2",right:"0"}},Qa=L("i",{class:"fa fa-expand"},null,-1),Ja=[Qa],ja={class:"row pb-3"},ei={class:"col d-flex"},ti={class:"dropdown me-sm-2"},ai={type:"button",class:"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown"},ii=L("span",{class:"caret"},null,-1),ri={class:"dropdown-menu",role:"menu"},ni={key:0,class:"dropdown"},si={type:"button",class:"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown"},oi=L("span",{class:"caret"},null,-1),li={class:"dropdown-menu",role:"menu"},hi=["onClick"],di={key:0,class:"col text-center"},ui=["title"],ci={class:"col"},fi={class:"text-secondary text-end mt-2 mb-0 me-4"},pi={key:0,class:"fa fa-spinner fa-spin loader"},gi=["title"],vi={class:"row"},yi={key:0,class:"row justify-content-center"},_i={class:"col col-12 col-sm-10 col-md-6 col-lg-4 text-body-secondary text-center"},mi=L("h4",{class:"m-4"},"No instance",-1),bi=L("p",null,"No instance is available yet.",-1),wi=L("p",null,[k(`
            Go to
            `),L("strong",null,[L("a",{href:"/settings/instances"},"Settings")]),k(` to add or configure instances.
          `)],-1),xi=L("p",null,"You don't have access to any instance.",-1),Ai=L("p",null,"Please contact an administrator.",-1),Si={__name:"Home",props:["isAdmin","environments"],setup(e){const t=X(null),a=X(null),i=Xt(),r=Gt(),n=X(!1),s=X([]),l=X(i.query.q),o=X(i.query.sort||"status"),h=X(i.query.environments?i.query.environments.split(","):[]),u=X(ce().subtract(1,"hours")),d=X(ce()),c=X(null),f=X(3*1e3);let g=[],p=[];const{toggle:y}=Ut(t),_=we(()=>{const S=new RegExp(l.value,"i"),m=s.value.filter(R=>S.test(R.hostname)||S.test(R.agent_address)||S.test(R.pg_data)||S.test(R.pg_port)||S.test(R.pg_version)||S.test(R.environment));let C;return o.value=="status"?C=I(m):C=oe.sortBy(m,o.value,"asc"),C.filter(R=>h.value.length?h.value.indexOf(R.environment)!=-1:!0)});St(()=>{D(),window.setInterval(D,f.value),qe(()=>{[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(m=>new ft(m,{sanitize:!1}))})});function b(S,m){m.preventDefault();var C=h.value.indexOf(S);C!=-1?h.value.splice(C,1):h.value.push(S)}function w(S,m){m.preventDefault(),o.value=S}function x(){clearError(),Tt.ajax("/json/instances/home").done(S=>{g.forEach(m=>m.dispose()),p.forEach(m=>m.dispose()),s.value=S,qe(()=>{g=[...t.value.querySelectorAll('[data-bs-toggle="popover"]')].map(R=>new $t(R,{sanitize:!1})),p=[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(R=>new ft(R,{sanitize:!1}))})}).fail(S=>{showError(S)})}function D(){n.value=!0,x(),d.value=ce(),u.value=ce().subtract(1,"hours"),qe(()=>{for(let S in a.value){const m=a.value[S];if(S>=18)break;m.fetchLoad1(),m.fetchTPS()}c.value=ce(),n.value=!1})}function I(S){return S.sort(function(m,C){return A(C)-A(m)})}function A(S){var m=T(S),C=0;return m.CRITICAL&&(C+=m.CRITICAL*1e6),m.WARNING&&(C+=m.WARNING*1e3),m.UNDEF&&(C+=m.UNDEF),C}function T(S){var m=oe.countBy(S.checks.map(function(C){return C.state}));return m}return _e(l,S=>{r.replace({query:oe.assign({},i.query,{q:S})})}),_e(o,S=>{r.replace({query:oe.assign({},i.query,{sort:S})})}),_e(h.value,S=>{r.replace({query:oe.assign({},i.query,{environments:S.join(",")})})}),(S,m)=>(B(),z("div",{ref_key:"root",ref:t},[L("div",qa,[L("button",{id:"fullscreen",class:"btn btn-link",onClick:m[0]||(m[0]=(...C)=>ut(y)&&ut(y)(...C))},Ja)]),k(),L("div",ja,[L("div",ei,[Bt(L("input",{type:"text",class:"form-control me-sm-2 w-auto",placeholder:"Search instances","onUpdate:modelValue":m[1]||(m[1]=C=>l.value=C)},null,512),[[zt,l.value]]),k(),L("div",ti,[L("button",ai,[k(`
            Sort by: `),L("strong",null,$(o.value),1),k(),ii]),k(),L("div",ri,[L("a",{class:"dropdown-item",href:"",onClick:m[2]||(m[2]=C=>w("hostname",C))},[L("i",{class:me(["fa fa-fw",{"fa-check":o.value=="hostname"}])},null,2),k(`
              Hostname
            `)]),k(),L("a",{class:"dropdown-item",href:"",onClick:m[3]||(m[3]=C=>w("status",C))},[L("i",{class:me(["fa fa-fw",{"fa-check":o.value=="status"}])},null,2),k(`
              Status
            `)])])]),k(),e.environments.length>1?(B(),z("div",ni,[L("button",si,[k(`
            Environments (`+$(h.value.length||"all")+`)
            `,1),oi]),k(),L("div",li,[(B(!0),z(Ee,null,ct(e.environments,C=>(B(),z("a",{class:"dropdown-item",href:"#",onClick:R=>b(C,R)},[L("i",{class:me(["fa fa-fw",{"fa-check":h.value.indexOf(C)!=-1}])},null,2),k(" "+$(C),1)],8,hi))),256))])])):Y("",!0)]),k(),e.environments.length===1?(B(),z("div",di,[L("span",{class:"lead",title:"Showing instances of environment "+e.environments[0],"data-bs-toggle":"tooltip"},$(e.environments[0]),9,ui)])):Y("",!0),k(),L("div",ci,[L("p",fi,[n.value?(B(),z("i",pi)):Y("",!0),k(),L("span",{title:c.value?"last refresh at "+c.value.format("HH:mm:ss"):""},"Refreshed every 1m",8,gi)])])]),k(),L("div",vi,[(B(!0),z(Ee,null,ct(_.value,(C,R)=>(B(),z("div",{key:C.hostname+C.pg_port,ref_for:!0,ref:"cards",class:"col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 pb-3"},[Re(Ka,{instance:C,status_value:A(C),refreshInterval:f.value,index:R,start:u.value,end:d.value,ref_for:!0,ref_key:"instanceCards",ref:a},null,8,["instance","status_value","refreshInterval","index","start","end"])]))),128))]),k(),!n.value&&s.value.length==0?(B(),z("div",yi,[L("div",_i,[mi,k(),e.isAdmin?(B(),z(Ee,{key:0},[bi,k(),wi],64)):Y("",!0),k(),e.isAdmin?Y("",!0):(B(),z(Ee,{key:1},[xi,k(),Ai],64))])])):Y("",!0)],512))}},Ti={template:""},Ci=Yt({history:Zt(),routes:[{path:"/:pathMatch(.*)*",name:"not-found",component:Ti}]});Vt({components:{home:Si}}).use(Ci).mount("#app");

$(document).ready(()=>{"use strict";const e=$("button.btn-read-personal-message");$(e).on("click",e=>{const s=$(e.currentTarget),a=s.data("sender"),n=s.data("recipient"),r=s.data("message"),o=s.data("message-folder"),t=personalMessagesSettings.urlReadMessage,m=personalMessagesSettings.csrfToken,d=$.post(t,{csrfmiddlewaretoken:m,sender:a,recipient:n,message:r});d.done(e=>{if(void 0!==e&&""!==e){const s=$(`#aa-forum-personal-message-id-${r} .card-aa-forum-personal-messages-message`);if(s.html(e).removeClass("d-none"),"inbox"===o){const a=personalMessagesSettings.urlUnreadMessagesCount,n=($(`#aa-forum-personal-message-id-${r} .card-aa-forum-personal-messages-item`).removeClass("panel-aa-forum-personal-messages-item-unread"),$.get(a));n.done(e=>{0<e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").html(e.unread_messages_count),0===e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").remove()})}}})})});
//# sourceMappingURL=aa-forum-personal-messages.min.js.map
.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "URLWATCH-DEPRECATED" "7" "Oct 28, 2024" "urlwatch " "urlwatch  Documentation"
.SH NAME
urlwatch-deprecated \- Documentation of feature deprecation in urlwatch
.sp
As features are deprecated and cleaned up, they are documented
here with steps to update your configuration for replacements.
.SH NETWORKIDLE0 AND NETWORKIDLE2 FOR WAIT_UNTIL IN BROWSER JOBS (SINCE 2.28)
.sp
Since version 2.28, execution of browser jobs uses Playwright instead of pyppetteer.
.sp
The previously\-supported \fBwait_until\fP values of \fBnetworkidle0\fP and \fBnetworkidle2\fP
are not supported anymore. Playwright supports the values \fBload\fP, \fBdomcontentloaded\fP,
\fBnetworkidle\fP (discouraged) or \fBcommit\fP instead.
.sp
Existing settings of \fBnetworkidle0\fP and \fBnetworkidle2\fP will be mapped to
\fBnetworkidle\fP, and a warning will be issued. To silence the warning and continue
to use \fBnetworkidle\fP, specify \fBwait_until: networkidle\fP explicitly.
.SH FILTERS WITHOUT SUBFILTERS (SINCE 2.22)
.sp
In older urlwatch versions, it was possible to write custom
filters that do not take a \fBsubfilter\fP as argument.
.sp
If you have written your own filter code like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
class CustomFilter(filters.FilterBase):
    \(dq\(dq\(dqMy old custom filter\(dq\(dq\(dq

    __kind__ = \(aqfoo\(aq

    def filter(self, data):
        ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You have to update your filter to take an optional subfilter
argument (if the filter configuration does not have a subfilter
defined, the value of \fBsubfilter\fP will be \fBNone\fP):
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
class CustomFilter(filters.FilterBase):
    \(dq\(dq\(dqMy new custom filter\(dq\(dq\(dq

    __kind__ = \(aqfoo\(aq

    def filter(self, data, subfilter):
        ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SH STRING-BASED FILTER DEFINITIONS (SINCE 2.19)
.sp
With urlwatch 2.19, string\-based filter lists are deprecated,
because they are not as flexible as dict\-based filter lists
and had some problems (e.g. \fB:\fP and \fB,\fP are treated in a
special way and cannot be used in subfilters easily).
If you have a filter definition like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
filter: css:body,html2text:re,strip
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can get the same results with a filter definition like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
filter:
  \- css:
      selector: body
  \- html2text:
      method: re
  \- strip
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Since \fBselector\fP is the default subfilter for \fBcss\fP, and \fBmethod\fP
is the default subfilter for \fBhtml2text\fP, this can also be written as:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
filter:
  \- css: body
  \- html2text: re
  \- strip
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you just have a single filter such as:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
filter: html2text
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can change this filter to dict\-based using:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
filter:
  \- html2text
.ft P
.fi
.UNINDENT
.UNINDENT
.SH KEYRING SETTING IN SMTP REPORTER CONFIGURATION (SINCE 2.18)
.sp
Since version 2.18, the SMTP reporter configuration now uses \fBauth\fP
to decide if SMTP authentication should be done or not. Previously,
this setting was called \fBkeyring\fP\&. If you have an old configuration
like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
report:
  email:
    smtp:
      host: localhost
      keyring: false
      port: 25
      starttls: true
    subject: \(aq{count} changes: {jobs}\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can change the setting to this (replace \fBkeyring\fP with \fBauth\fP):
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
report:
  email:
    smtp:
      host: localhost
      auth: false
      port: 25
      starttls: true
    subject: \(aq{count} changes: {jobs}\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.SH COPYRIGHT
2024 Thomas Perl
.\" Generated by docutils manpage writer.
.
